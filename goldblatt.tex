\documentclass[a4paper, 11pt, openany]{book}
\usepackage{comment} % enables the use of multi-line comments (\ifx \fi) 
\usepackage{lipsum} %This package just generates Lorem Ipsum filler text. 
\usepackage{fullpage} % changes the margin
\usepackage[a4paper, total={7in, 10in}]{geometry}

%\usepackage{tgadventor} % The font for the entire document can be changed here
%\usepackage{courier}
%\usepackage{charter}
\usepackage{tgcursor}

\usepackage{mathrsfs} 
\usepackage{quiver} 
\newtheorem{corollary}{Corollary}
\usepackage{graphicx}
\usepackage{tikz}

\usetikzlibrary{arrows}
\usepackage{verbatim}
\usepackage[numbered]{mcode}
\usepackage{float}
\usepackage{tikz}
    \usetikzlibrary{shapes,arrows}
    \usetikzlibrary{arrows,calc,positioning}

    \tikzset{
        block/.style = {draw, rectangle,
            minimum height=1cm,
            minimum width=1.5cm},
        input/.style = {coordinate,node distance=1cm},
        output/.style = {coordinate,node distance=4cm},
        arrow/.style={draw, -latex,node distance=2cm},
        pinstyle/.style = {pin edge={latex-, black,node distance=2cm}},
        sum/.style = {draw, circle, node distance=1cm},
    }
\usepackage{xcolor}
\usepackage{mdframed}
\usepackage[shortlabels]{enumitem}
\usepackage{indentfirst}
\usepackage{hyperref}
\usepackage{amsmath,amsfonts,amsthm, amssymb}
\usepackage{array}
\usepackage[all,textures]{xy}
\usepackage{graphicx}
\usepackage{alltt}
\usepackage{listings}
\usepackage{float}
\usepackage{tabu}
\usepackage{longtable}


\theoremstyle{plain}

\newtheorem{exercise}{Exercise}[chapter]
\newtheorem*{theorem1}{Theorem 1}
\newtheorem*{notation}{Notation}
\newtheorem*{corollary1.1}{Corollary 1.1}
\newtheorem*{theorem2}{Theorem 2}
\newtheorem*{corollary2.1}{Corollary 2.1}
\renewcommand{\thesubsection}{\thesection.\alph{subsection}}


% Define solution environment
\newenvironment{answer}
    {\textit{answer:}}
    {}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Original packages, custom environments, and custom commands below
  \usepackage{amsmath,amsfonts,amsthm, amssymb}
  \usepackage{fullpage}
  \usepackage{array}
  \usepackage[all,textures]{xy}
  \usepackage{graphicx}
  \usepackage{alltt}
  \usepackage{listings}
  \usepackage{float}
  \usepackage{tabu}
  \usepackage{longtable}
  \usepackage{lipsum}
  \usepackage[T1]{fontenc}
  
  \theoremstyle{plain}
  \newtheorem{innercustomgeneric}{\customgenericname}
\providecommand{\customgenericname}{}
\newcommand{\newcustomtheorem}[2]{%
  \newenvironment{#1}[1]
  {%
   \renewcommand\customgenericname{#2}%
   \renewcommand\theinnercustomgeneric{##1}%
   \innercustomgeneric
  }
  {\endinnercustomgeneric}
}

\newcustomtheorem{definition}{Definition}
\newcustomtheorem{lemma}{Lemma}

\newcommand{\mb}{\mathbf}
\newcommand{\arr}{\rightarrow}
\newcommand{\mc}{\mathcal}
\newcommand{\ms}{\mathscr}
\newcommand{\co}{\text{co}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\I}{\mathbb{I}}
\newcommand{\la}{\langle}
\newcommand{\ra}{\rangle}
\newcommand{\op}{\oplus}
\newcommand{\od}{\odot}
\newcommand{\p}{\prime}
\newcommand{\ep}{\varepsilon}
\newcommand{\eps}{\epsilon}
\newcommand{\del}{\delta}
\newcommand{\hyp}{{}^*}
\newcommand{\dom}{\text{dom }}
\newcommand{\hal}{\text{hal}}
\newcommand{\gal}{\text{gal}}
\newcommand{\sh}{\text{sh}}
\newcommand{\Del}{\Delta}


  \setlength{\parindent}{0pt}
 
 
 \newtheorem{thm}{Exercise}
\begin{document}
  \begin{titlepage}
	\centering % Center everything on the title page
	\scshape % Use small caps for all text on the title page
	\vspace*{1.5\baselineskip} % White space at the top of the page
% ===================
%	Title Section 	
% ===================

	\rule{13cm}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} % Thick horizontal rule
	\rule{13cm}{0.4pt} % Thin horizontal rule
	
		\vspace{0.75\baselineskip} % Whitespace above the title
% ========== Title ===============	
	{	\Huge Lectures on Hyperreals\\ 
			\vspace{4mm}
		Book by Robert Goldblatt \\	}
% ======================================
		\vspace{0.75\baselineskip} % Whitespace below the title
	\rule{13cm}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt} % Thin horizontal rule
	\rule{13cm}{1.6pt} % Thick horizontal rule
	
		\vspace{1.75\baselineskip} % Whitespace after the title block
% =================
%	Information	
% =================
	{\large : 
		\vspace*{1.2\baselineskip}
	} \\
	\vfill

\end{titlepage}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begingroup
\let\cleardoublepage\clearpage
\tableofcontents
\endgroup

\chapter{What are Hypereals?}

\chapter{Large sets}

  \begin{exercise}
    If $\emptyset \not = A \subseteq I$, there is an ultrafilter $\mc{F}$ on $I$ with $A \in \mc{F}$.
  \end{exercise}
  \begin{proof}
    Define $\mc{H}=\{B \in \mathscr{P}(I): A \subseteq B\}$. Since $A$ is non empty, it follows that $\mc{H}$ has fip. Clearly, $A \in \mc{H}$, and so $A \in \mc{F}^\mc{H}$. Therefore, by zorn lemma, we know that there exists ultrafilter, $\mc{F}$, such that $A \in \mc{F}^\mc{H} \subseteq \mc{F}$.
  \end{proof}

  \begin{exercise}
    There exists a nonprincipal ultrafilter on $\N$ containing the set of even numbers, and another containing the set of odd numbers.
  \end{exercise}
  \begin{proof}
    Define $I=\{x \in \N: x=2n$ for some $n \in \N\}$. Since $I$ is infinite, we know that $\mc{F}^\co$ is proper and thus, have fip. Applying the zorn's lemma, we see that there exists ultrafilter $\mc{F}$ such that $\mc{F} \subseteq \mc{F}^\co$. However, for any $i \in I$, we have $I-\{i\} \in \mc{F}^\co \subseteq \mc{F}$ but, since $\mc{F}$ is ultrafilter, $\{i\} \in \mc{F}$. However, clearly $\{i\} \in \mc{F}^i$. Therefore, $F \not = F^i$ for any $i \in I$. Likewise we could argue about set of odd numbers.
  \end{proof}

  \begin{exercise}
    An ultrafilter on finite set must be principal.
  \end{exercise}
  \begin{proof}
    Let the set be $A=\{a_1,a_2,\cdots, a_n\}$ and $\mc{F}$ be ultrafilter on it. Since $\{a_1\} \cup \{a_2\}\cup \cdots \cup \{a_n\}=A \in \mc{F}$, it must be the case that $a_i \in \mc{F}$ for some $i$ such that $1 \leq i \leq n$. Since $\mc{F}$ is proper, for any $B \in \mc{F}$, we have $B \cap \{a_i\} \not = \emptyset$, but that means $\mc{F}=\mc{F}^{a_i}$.
  \end{proof}

  \begin{exercise}
    For $\mc{H} \subseteq \ms{P}(I)$. \\
      (i) Show that $\mc{F}^\mc{H}$ is a filter that includes $\mc{H}$, i.e. $\mc{H} \subseteq \mc{F}^\mc{H}$. \\
      (ii) Show that $\mc{F}^\mc{H}$ is included in any other filter that includes $\mc{H}$.
  \end{exercise}
  \begin{proof} $ $ \\
    (i) By the definition.\\
    (ii) Let $\mc{F}$ be a filter such that $H \subseteq \mc{F}$. Let $A \in \mc{F}^\mc{H}$, then $B_1 \cap B_2 \cap \cdots \cap B_n \subseteq A$ for some $B_1,\cdots, B_n \in \mc{H}$. Clearly, $B_1 \cap \cdots \cap B_n \in F$ and so is $A \in F$.
  \end{proof}

  \begin{exercise}
    Let $\mc{F}$ be a proper filter on $I$. \\
    (I) Show that $\mc{F} \cup \{A^c\}$ has fip iff $A \notin \mc{F}$. \\
    (II) Use (I) to deduce that $\mc{F}$ is an ultrafilter iff it is maximal proper filter on $I$.
  \end{exercise}
  \begin{proof} $ $ \\
    (I) First we prove forward implication. Notice that if $A \in \mc{F}$ then since $A \cap A^c=\emptyset$, it follows $\mc{F} \cup \{A^c\}$ does not have fip. \\
    We prove the converse implication. Notice that since $F$ is a proper filter, ie it does not contain $\emptyset$, the only way for $\mc{F} \cup \{A^c\}$ to not have fip would be $A \in \mc{F}$. \\\\

    (II) We prove the foward implication. Suppose $\mc{F}$ is an ultrafilter. Applying Zorn's lemma on proper filter $\mc{F}$, we see that there exists a maximal proper filter, $K$, such that $\mc{F} \subseteq K$. If $K \not = F$, it would mean there is some $A \in K$ such that $A \not \in \mc{F}$ but then that would mean $A^C \in \mc{F}$, and so $A^c \in K$ which contradicts the fact that $K$ is proper since it fails to satisfy fip. Therefore, we must have $F=K$. \\

    We prove the converse implication. Suppose $\mc{F}$ is maximal proper filter. For the sake of contradiction assume $\mc{F}$ is not an ultra filter i.e. there exists some $A \in \ms{P}(I)$ such that both $A, A^c \notin F$. Clearly, either $\mc{F} \cup \{A\}$ has fip or $\mc{F} \cup \{A^c\}$ does. Wlog assume $\mc{F} \cup \{A\}$ has fip. Applying Zorn's lemma on $\mc{F} \cup \{A\}$, we see that there is maximal proper filter $K$ such that $\mc{F} \cup \{A\} \subseteq K$. However this means that $\mc{F}$ is not maximal proper filter since $F \subsetneqq F \cup \{A\} \subset P(I)$.
  \end{proof}

\chapter{Ultrapower Construction of the hyperreals}

  \begin{exercise}
    (section 3.3, I). $\equiv$ is an equivalence relation on $\R^\N$.
  \end{exercise}
  \begin{proof} Let $\langle a_n \rangle, \langle b_n \rangle, \langle c_n \rangle \in \R^\N$.
    First we prove that reflexivity. Clearly, $\{n \in \N: a_n=a_n\}=\N \in \mc{F}^\co \subseteq \mc{F}$. Thus, $\langle a_n \rangle \equiv \langle a_n \rangle$. \\
    Symmetricity is trivial since $\{n \in \N: a_n=b_n\}=\{n \in \N: b_n=a_n\}$, if one of them is in $F$ then so is the other. \\
    Finally, we prove transitivity. Suppose $\la a_n \ra \equiv \la b_n \ra$ and $\la b_n \ra \equiv \la c_n \ra$ i.e. $\{n \in \N: a_n=b_n\}, \{n \in \N: b_n=c_n\} \in \mc{F}$. Clearly, $\{n \in \N: a_n=b_n=c_n\}=\{n \in \N: a_n=b_n\} \cap \{n \in \N: b_n=c_n\} \in \mc{F}$. Therefore, $\la a_n \ra \equiv \la c_n \ra$.
  \end{proof}
  \begin{exercise} (section 3.3, II)
    $\equiv$ is a congruence on the ring $\la \R^\N, \op, \od \ra$, which means that if $r \equiv r^\p$ and $s \equiv s^\p$, then $r \op s=r^\p \op s^\p$ and $r \od s=r^\p \od s^\p$.
  \end{exercise}
  \begin{proof}
    Suppose $r \equiv r^{\p}$ and $s \equiv s^{\p}$ i.e. $ \{n \in \N: r_n=r^\p_n \}, \{n \in \N: s_n=s_n^\p \} \in \mc{F}$. Thus, since $ \{n \in \N: r_n=r_n^\p, s_n=s_n^\p \}=\{n \in \N: r_n=r_n^\p \} \cap \{n \in \N: s_n=s_n^\p \} \in \mc{F}$, we have $\{n \in \N: r_n=r_n^\p, s_n=s_n^\p \} \subseteq \{n \in \N: r_n+s_n=r_n^\p+s_n^\p \} \in \mc{F}$. Similarly, $\{n \in \N: r_ns_n=r_n^\p s_n^\p \} \in \mc{F}$. Therefore, $r\op s \equiv r^\p \op s^\p$ and $r \od s \equiv r^\p \od s^\p$.
  \end{proof}
  \begin{exercise} (section 3.3, III)
    $\la 1, \frac{1}{2}, \frac{1}{3}, \cdots \ra \not \equiv \la 0, 0, 0, \cdots \ra$. 
  \end{exercise}
  \begin{proof}
    Let $\la r \ra=\la 1, \frac{1}{2}, \frac{1}{3}, \cdots \ra$. For the sake of simplicity, define $[[r \not =0]]=\{n \in \N:r_n \not =0\}$. Clearly, $[[r \not =0]] \subseteq \N$. Notice that for any $n \in \N$, we have $n \in [[r \not =0]]$. Thus, $[[r \not =0]]=\N$. So, $[[r \not =0]] \in \mc{F}^\co \subseteq \mc{F}$ but then it would mean $[[r=0]]=[[r \not=0]]^c \notin \mc{F}$. Therefore, $\la r_n \ra \not \equiv \la 0 \ra$.
  \end{proof}

  \begin{exercise}
    (section 3.5, I)
    $[[r=s]] \cap [[s=t]] \subseteq [[r=t]]$.
  \end{exercise}
  \begin{proof}
    Let $n \in [[r=s]] \cap [[s=t]]$. Then it follows that $r_n=s_n$ and $s_n=t_n$, and so $r_n=t_n$. Therefore, $n \in [[s=t]]$.
  \end{proof}

  \begin{exercise} (Section 3.5, II)
    $[[r=r^\p]] \cap [[s=s^\p]] \subseteq [[r \op s=r^\p \op s^\p]] \cap [[r \op s=r^\p \op s^\p]]$
  \end{exercise}
  \begin{proof}
    Let $n \in [[r=r^\p]] \cap [[s=s^\p]]$. Thus, $r_n=r_n^\p$ and $s_n=s_n^\p$, and so $r_n \op s_n=r_n^\p \op s_n^\p$ and $r_n \od s_n = r_n^\p \od s_n^\p$. Therefore, $n \in [[r \op s=r^\p \op s^\p]] \cap [[r \op s=r^\p \op s^\p]]$.
  \end{proof}
  \begin{exercise}
    (Section 3.5, III)
    $[[r=r^\p]] \cap [[s=s^\p]] \cap [[r<s]] \subseteq [[r^\p<s^\p]]$.
  \end{exercise}
  \begin{proof}
    Let $n \in [[r=r^\p]] \cap [[s=s^\p]] \cap [[r<s]]$. Thus, $r_n=r_n^\p, s_n=s_n^\p, r_n<s_n$ but then that means $r_n^\p<s_n^\p$, and so $ n \in [[r^\p<s^\p]]$.
  \end{proof}
  \begin{exercise} (Section 3.5, IV)
    If $r \equiv r^\p$ and $s \equiv s^\p$, then $[[r<s]] \in \mc{F}$ iff $[[r^\p<s^\p]] \in \mc{F}$.
  \end{exercise}
  \begin{proof}
    Suppose $r \equiv r^\p$ and $s \equiv s^\p$, that is to say, $\{n \in \N: r_n=r_n^\p\}, \{n \in \N: s_n=s_n^\p\} \in \mc{F}$. First assume $[[r<s]] \in \mc{F}$. Therefore, $\{n \in \N: r_n=r_n^\p\} \cap \{n \in \N: s_n=s_n^\p\} \cap \{n \in \N: r_n<s_n\} \subseteq \{n \in \N: r^\p<s^\p \} \in mc{F}$. Next assume $[[r^\p<s^p]] \in \mc{F}$. It follows $\{n \in \N: r_n=r_n^\p\} \cap \{n \in \N: s_n=s_n^\p\} \cap \{n \in \N: r_n^\p<s_n^\p\} \subseteq \{n \in \N: r<s\} \in \mc{F}$
  \end{proof}

  \begin{exercise}
    (Section 3.8, I)
    Use only general properties of ordered fields to deduce from the fact that $[\ep]$ is a positive infinitismal, the conclusion that $[\ep]^{-1}$ is greater than every real number.
  \end{exercise}
  \begin{proof}
    Notice that for any $r \in \R^+$, we have ${}^* r=[\la r,r,\cdots,\ra] \in {}^* \R$. Since $\ep<{}^* r$, by fields properties, we have $0<{}^* r^{-1}<\ep^{-1}$. Since $r$ is arbitrary positive real number, setting $r=r^{-1}$,we see that ${}^* r< \ep^{-1}$ for any $r \in \R^+$. 
  \end{proof}
  
  \begin{exercise} (Section 3.10, I)
    If $A$ is finite, show that ${}^*A=A$, and hence $A$ has non nonstandard members.
  \end{exercise}
  \begin{proof}
    Let $A=\{a_1,\cdots, a_n\}$. Consider some $[r] \in {}^* A$. If we could prove that $r \equiv t$ for some constant sequence $t \in A$, we would be done. So we set that as our goal. Notice that since $[r] \in {}^* A$, we have $\{ n \in \N: r_n \in A\}= \{n \in \N: r_n=a_1 \lor r_n=a_2 \lor \cdots r_n=a_n\}=\{n \in \N: r_n=a_1\} \cup \cdots \cup \{n \in \N:r_n=a_n\} \in \mc{F}$. But since $\mc{F}$ is ultrafilter, only one of such set is in $\mc{F}$. Therefore, $\{n \in \N: r_n=a_k\} \in \mc{F}$ for some $k$ such that $1 \leq k \leq n$. Hence, $r \equiv a_k$.
  \end{proof}

  \begin{exercise}
    (Section 3.10, II) 
    Prove: \\
    (a) $A \subseteq B$ iff ${}^* A \subseteq {}^* B$. \\
    (b) $A=B$ iff ${}^* A = {}^* B$.
  \end{exercise}
  \begin{proof} $ $ \\
    (a) First we prove the forward implication. Suppose $A \subseteq B$. Consider $[r] \in {}^* A$. Therefore, we have $[[r \in A]] \in \mc{F}$, but since $[[r \in A]] \subseteq [[r \in B]]$, we have $[[r \in B]]$ and so $[r] \in {}^* B$. \\
    We prove the converse implication. Suppose ${}^* A \subseteq {}^* B$. Consider some $r \in A$. Then we have $[\mb{r}] \in {}^* A$, and so $[\mb{r}] \in {}^*B$. However, since $[{\mb{r}}] \in B$, we have $[[r \in B]] \in \mc{F}$ which means $r \in B$. \\

    (b) Trivially follows from (a).
  \end{proof}

  \begin{exercise}
    (Section 3.10, III) \\
    Prove: \\
    (a) ${}^* (A \cup B) = {}^* A \cup {}^* B$, \\
    (b) ${}^* (A \cap B)= {}^* A \cap {}^* B$, \\
    (c) $\hyp (A-B)=\hyp A - \hyp B$, \\
    (d) $\hyp \emptyset =\emptyset$.
  \end{exercise}
  \begin{proof} $ $ \\
    (a) First we prove the foward implication. Since $A \subset A \cup B$, applying (2), we have ${}^* A \subseteq {}^* (A \cup B)$. Similarly, we have ${}^* B \subseteq {}^* (A \cup B)$, and so ${}^* A \cup {}^* B \subseteq {}^* (A \cup B)$. \\
    We prove the converse implication. Let $[r] \in {}^* A \cup {}^* B$. Then we have following cases; \\
    \textbf{case-1.} $[r] \in {}^* A$. Thus, $[[r \in A]] \in mc{F}$, and since $[[r \in A]] \subseteq [[r \in A \cup B]]$, we have $[[r \in A \cup B]] \in \mc{F}$ but that means $[r] \in {}^* A \cup {}^* B$. \\
    \textbf{case-2.} $[r] \in {}^* B$. The proof is analogous to \textbf{case-1}. \\

    (b) First we prove the forward implication. Since $A \cap B \subseteq A$, applying (2), we have ${}^* (A \cap B) \subseteq {}^* A$. Similarly we have $\hyp (A \cap B) \subseteq \hyp B$, and so $\hyp (A \cap B) \subseteq \hyp A \cap \hyp B$. \\
    We prove the converse implication. Consider some $[r] \in \hyp A \cap \hyp B$. It means that $[r] \in \hyp A$ and $[r] \in \hyp B$, thus $[[r \in A]], [[r \in B]] \in \mc{F}$. Therefore, $[[r \in A \cap B]]=[[r \in A]] \cap [[r \in B]] \in \mc{F}$, and so $[r] \in \hyp (A \cap B)$.  \\

    (c) First we prove the foward implication. Let $[r] \in \hyp (A \setminus B)$. Then we have $[[r \in A]] \cap [[r \notin B]]=[[r \in A \setminus B]] \in \mc{F}$. Thus, $[[r \in A]], [[r \notin B]] \in \mc{F}$. Hence, $[r] \in \hyp A$ and $[r] \notin \hyp B$, and so $[r] \in \hyp A \setminus \hyp B$. \\
    We prove the converse implication. Let $[r] \in \hyp A \setminus \hyp B$ i.e. $[r] \in \hyp A$ and $[r] \notin \hyp B$. Then we have $[[r \in A]] \in \mc{F}$ and $[[r \notin B]] \in \mc{F}$. Thus, $[[r \in A \setminus B]]=[[r \in A]] \cap [[r \notin B]] \in \mc{F}$. Therefore, $r \in \hyp (A \setminus B)$. \\

    (d) Clearly, $\hyp \emptyset =\{ [r] \in \hyp \R: [[r \in \emptyset]] \in \mc{F}\}=\emptyset$. 
  \end{proof}

  \begin{exercise}
    (Section 3.10, IV)
    Is it true that $\hyp (\bigcup_{n=1}^\infty A_n)=\bigcup_{n=1}^\infty \hyp A_n$?
  \end{exercise}
  \begin{proof}
    No. Define $A_n=\{n\}$ for any $n \in \N$. Notice that since $A_n$ is finite, using (1), we have $\hyp A_n=A_n=\{n\}$. Since $[[\omega \in \bigcup_{n=1}^\infty A_n]]=\N \in \mc{F}$, we have $\omega \in \hyp (\bigcup_{n=1}^\infty A_n)$. However, $[[\omega \in A_n]]=\{n\} \notin \mc{F}$, thus $\omega \notin \hyp A_n$ for any $n \in \N$. This mean $\omega \notin \bigcup_{n=1}^\infty \hyp A_n$.
  \end{proof}

  \begin{exercise}
    (Section 3.10, V)
    Show that if $A \subseteq \R$, then $\hyp A \cap \R =A$.
  \end{exercise}
  \begin{proof}
    Suppose $A \subseteq \R$. Let $[r] \in \hyp A \cap \R$. Since $\la r \ra$ is a constant sequence and $[r] \in \hyp A$, it follows $[r]=\la r \ra \in A$. Thus, $\hyp A \cap \R \subseteq A$. This means that $\hyp A \cap \R$ contains only the constant sequences. Let $\la r \ra \in A$. Then clearly $[r] \in \hyp A \cap \R$.
  \end{proof}

  \begin{exercise}
    For $a,b \in \R$, let $[a,b]$ be the closed interval $\{x \in \R: a \leq x \leq n\}$. Prove that $\hyp [a,b]=\{x \in \hyp \R: a \leq x \leq b\}$.
  \end{exercise}
  \begin{proof}
    We first prove the forward inclusion. Let $[r] \in \hyp [a,b]$. Then we have $\{n \in \N: a \leq r_n \leq b\}=[[r \in [a,b]]] \in \mc{F}$ but that means $[r] \in \{x \in \hyp \R: a \leq x \leq b\}$. We prove the converse inclusion. Let $[r] \in \{x \in \hyp \R: a \leq x \leq b\}$. It follows $[[r \in [a,b]]]=\{n \in \N: a \leq r_n \leq b\} \in mc{F}$. Therefore, $[r] \in \{x \in \R: a \leq x \leq n\}$.
  \end{proof}

  \begin{exercise}
    (Section 3.10, VII) 
    $\hyp \Z$ is a subring of $\hyp \R$.
  \end{exercise}
  \begin{proof}
    Clearly, $\hyp \Z \not = \emptyset$. Consider some $[r], [s] \in \hyp \Z$. Then we have $[[r \in \Z]], [[s \in \Z]] \in \mc{F}$. Therefore, since $[[r \in \Z]] \cap [[s \in \Z]] \subseteq [[r+s \in \Z]], [[rs \in \Z]]$, we have $[[r+s \in \Z]], [[rs \in \Z]] \in \mc{F}$. Hence, $[r+s], [rs] \in \hyp \Z$.
  \end{proof}

  \begin{exercise}
    (Section 3.10, VIII)
    If $\R^+=\{x \in \R: x>0\}$, show that $\hyp (\R^+)=\{x \in \hyp \R^+:x>0\}$, i.e., $\hyp (R^+)=(\hyp \R)^+$.
  \end{exercise}
  \begin{proof}
    First we prove the forward inclusion. Let $[r] \in \hyp (R^+)$. It means that $\{n \in \N: r_n>0\}=[[r \in R^+]] \in \mc{F}$ which implies $[r] \in (\hyp \R)^+$. Next we prove the converse inclusion. Let $[r] \in (\hyp \R)^+$. Then we have $\{n \in \N: r_n>0\}=[[r>0]]=[[r \in \R^+]] \in \mc{F}$ from which it follows $[r] \in \hyp(\R^+)$.
  \end{proof}

  \begin{exercise}
    (Section 3.12, I)
    Show that $\hyp f$ agrees with $f$ on $\R$: if $r \in \R$, then $\hyp f(r)=f(r)$.
  \end{exercise}
  \begin{proof}
    Let $r \in \R$. Notice that $r$ can be indetified with the constant sequence $\mb{r} \in \hyp R$. Then we have $\hyp f([\mb{r}])=[f(\mb{r})]$ which is isomorphic to $f(r)$.
  \end{proof}
  \begin{exercise}
    (Section 3.12, II)
    If $f$ is injective, so is $\hyp f$. What about surjectivity?
  \end{exercise}
  \begin{proof}
    Suppose $f$ is injective. Consider some $[r], [s] \in \hyp \R$ such that $\hyp f([r])=\hyp f([s])$, that is to say $[f \circ r]=[f \circ s]$. Since $f$ is injective, we have $[[f \circ r=f \circ s]] \subseteq [[r =s]]$ but then, since $[[f \circ r=f \circ s]] \in \mc{F}$, it follows $[[r=s]] \in \mc{F}$. Therefore, $[r]=[s]$. \\

    Yes, surjecitivity is preserved. Suppose $f$ is surjective. Consider some $[s] \in \hyp \R$. Our goal is to prove that there is some $[r] \in \hyp \R$ such that $\hyp f([r])=[s]$. Define sequenece $(r_n)$ such that, for each $s_n$, $f(r_n)=s_n$. We know such a $r_n$ exists for each $s_n$ since $f$ is surjective. We claim that $[r] \in \hyp \R$ the element we looking for. To prove this claim, we need to show $[f \circ r]=f([r])=[s]$, so we set that as our goal. Clearly, $[[f \circ r = s]]=\{n \in \N: f(r_n)=s_n\}=\N \in \mc{F}$. Therefore, $[f \circ r]=f[r] = [s]$. 
  \end{proof}

  \begin{exercise}
    (Section 3.12, III)
     For $x \in \hyp \R$, let $$|x| = \begin{cases} x, \text{ if } x>0 \\ 0, \text{ if } x=0 \\ -x \text{ if } x<0 \end{cases}$$ be the usal definition of absolute value function. Show that this extends the definition of $|.|$ on $\R$: $|[r]|=[ \la |r_1|, |r_2|,\cdots \ra]=[|r_n|]$.
  \end{exercise}
  \begin{proof}
    We have the following cases; \\
    \textbf{Case-1.} Suppose $[r]>0$. Then $[[r>0]] \in \mc{F}$. Since $[[r>0]] \subseteq [[ [r]=[|r|]]] \in \mc{F}$, we have $|[r]|=[r]=[|r_n|]$. \\
    \textbf{Case-2.} Suppose $[r]=0$. That is to say $[[r=0]] \in \mc{F}$. Since $[[r=0]] \subseteq [[0=|r|]] \in \mc{F}$, we have $|[r]|=0=[|r|]$. \\
    \textbf{Case-3.} Suppose $[r]<0$. Then $| [r]|=-[r]=[-r]=[|r|]$.
  \end{proof}

  \begin{exercise}
    (Section 3.12, IV)
    Let $\chi_A$ be the characteristic function of a set $A \subseteq \R$. Show that $\hyp (\chi_A)=\chi_{\hyp A}$.
  \end{exercise}
  \begin{proof}
    Let $[r] \in \hyp \R$. Consider the expression $\hyp (\chi_A)[r]$, we have the following cases; \\
    \textbf{Case-1.} Suppose $[r] \in \hyp A$. Notice that $\hyp (\chi_A)[r]=[\chi_A \circ r]=[\chi_A(r_n)]$ but then, since $[[r \in A]] \in \mc{F}$ and $[[r \in A]] \subseteq [[\chi_A \circ r=1]]$, we have $[[\chi_A \circ r=1]] \in \mc{F}$. Therefore, $[\chi_A \circ r]=\chi_A [r]=1$. \\
    \textbf{Case-2.} Suppose $[r] \notin \hyp A$. Then we have $[[r \notin A]]=[[r \in A]]^c \in \mc{F}$. Clearly, $[[r \notin A]] \subseteq [[\chi_A \circ r=0]]$. Thus, $[[\chi_A \circ r=0]] \in \mc{F}$ and so $[\chi_A \circ r]=\chi_A [r]=0$.
  \end{proof}
  \begin{exercise}
    (Section 3.12, V)
    Show how to define $\hyp f$ when $f$ is a function of more than one arguement.
  \end{exercise}
  \begin{proof}
    Define $\hyp f([r^1],\cdots,[r^n])=[f(r^1_1, \cdots, r^n_1),f(r^1_2,\cdots, r^n_2), \cdots]$. We prove that it's well defined. Clearly, $[[r^1=r^{1^\p}]] \cap \cdots [[r^n=r^{n^\p}]] \subseteq [[f \circ (r^1,\cdots, r^n)=f \circ (r^{1^\p}, \cdots, r^{n^\p})]]$. Therefore, $r^1 \equiv r^{1^\p}, \cdots, r^n \equiv r^{n^\p}$ implies $f \circ (r^1,\cdots, r^n) \equiv f \circ (r^{1^\p}, \cdots, r^{n^\p}$.
  \end{proof}

  \begin{exercise}
    (Section 3.15, I)
    If $A_1,\cdots, A_k$ are subsets of $\R$, put $P=A_1\times \cdots \times A_k$ and apply the definition of $\hyp P$ to show that $$ \hyp (A_1 \times \cdots \times A_k)=\hyp A_1 \times \cdots \times \hyp A_k.$$
  \end{exercise}
  \begin{proof}
    For $([r^1], [r^2], \cdots, [r^k]) \in \hyp P$, we must have $[[(r^1, r^2, \cdots, r^k) \in P]] \in \mc{F}$. Clearly, $[[(r^1, r^2, \cdots, r^k) \in P]] \subseteq [[r^n \in A_n]]$, thus $[[r^n \in A_n]]$ for any $n$ such that $1 \leq n \leq k$. This means that $[r^n] \in A^n$ for all such $n$. Hence, $([r^1], \cdots, [r^n]) \in \hyp A_1 \times \cdots \hyp A_n$. From this, it follows that $\hyp (\R^k)=(\hyp \R)^k$.
  \end{proof}

  \begin{exercise}
    (Section 3.15, II)
    Let $\dom P$ denote the domain of a binary relation. If $P \subseteq \R^2$, show that $\hyp (\dom P)= \dom \hyp P$.
  \end{exercise}
  \begin{proof}
    First we prove the forward inclusion. Let $[r] \in \hyp (\dom P)$. Then we have $\{n \in \N: r_n \in \dom P\}=[[r \in \dom P]] \in \mc{F}$. $$\text{ Define sequence } s_n = \begin{cases} s \text{ such that } (r_n, s) \in P, \text{ if } r_n \in \dom P \\ 0, \text{ if } r_n \notin \dom P \end{cases}$$ Then clearly, $[[(r,s) \in P]]=[[r \in \dom P]] \in \mc{F}$, but that means $([r], [s]) \in \hyp P$, and so $[r] \in \dom \hyp P$. \\
    Now we prove the converse inclusion. Let $[r] \in \dom \hyp P$. It follows that there exists $[s] \in \hyp \R$ such that $([r], [s]) \in \hyp P$, but that means $[[r \in \dom P]]=[[(r,s) \in P]] \in \mc{F}$. Hence, $[r] \in \hyp (\dom P)$.
  \end{proof}

\chapter{The Transfer Principle}

  \begin{exercise}
    (Section 4.1, I)
    Verify the truth the $*-$transform given in $1-5$ above, which are; \\
    (1) The Eudoxus-Archimedes Principle: $\forall x \in \hyp \R: \exists m \in \hyp \N (x<m)$.  \\
    (2) Density of the rationals: $\forall x, y \in \hyp \R (x<y \text{ implies } \exists q \in \hyp \Q (x<q<y))$. \\
    (3) Finiteness. Let $A=\{r_1,\cdots, r_k\}$ be a finite subset of $\R$. Then $\forall x \in \hyp A (x=\hyp r_1 \lor x=\hyp r_2 \lor \cdots x=\hyp r_k)$. \\
    (4) Finitary set operations. $\forall x \in \hyp \R (x \in \hyp (A \cup B))$ iff $x \in \hyp A$ or $x \in \hyp B$. \\
    (5) Discreteness of $\N$.  $\forall x \in \hyp \N (\hyp n \leq x \leq \hyp (n+1) \text{ implies } x= \hyp n \text{ or } x=\hyp (n+1)$.
  \end{exercise}
  \begin{proof} $ $ \\

    (1) Let $x \in \hyp \R$. Define sequence $m$ such that $x_i<m_i$ for every $i$. The existence of such $m$ is guranteed by Eudoxus-Archimedes Principle in reals. Clearly, $m \in \hyp \N$ and $[[x<m]] \in \mc{F}$. Therefore, $x<m$. 

    (2) Let $x,y \in \hyp \R$. Define sequence $q$ such that $x_i<q_i<y_i$ for each $i$, where $q_i$'s are rational. The existence of such $q_i$'s is guranteed by density of rationals in reals. Clearly, $q \in \hyp \Q$ and $[[x<q<y]]=\N \in \mc{F}$. Therefore, $x<q<y$. 

    (3) Let $x \in \hyp A$. Then $[[x=r_1]] \cup [[x=r_2]]\cup \cdots [[x=r_n]]=[[x \in A]] \in \mc{F}$. Since finite union in $\mc{F}$ means that exactly one of the set in $\mc{F}$, we have $x=\hyp r_1$ or $x=\hyp r_2$ or $\cdots$ or $x=\hyp r_n$.

    (4) Proved in section 3.10, II.

    (5) Let $x \in \hyp \N$ and suppose $\hyp n \leq x \leq \hyp (n+1)$. Then we have $[[n \leq x \leq n+1]] \in \mc{F}$ but due to discreteness of $\N$, it folows that $[[x=n]] \cup [[x=n+1]]=[[x=n \lor x=n+1]]=[[n \leq x \leq n+1]] \in \mc{F}$. Hence, $x=\hyp n$ or $x=\hyp(n+1)$.
  \end{proof}

\chapter{Hypereals Great and Small}

  \begin{exercise}
    (Section  5.2, I)
    For any positive hyperreal $a$, explain why the function $x \rightarrow a^x$ is defined for all $x \in \hyp \R$. Use transfer to explore its properties.
  \end{exercise}
  \begin{proof}
    
  \end{proof}

  \begin{exercise}
    (Section 5.5, I)
    Verify that $\simeq$ and $\sim$ are equivalence relationships.
  \end{exercise}
  \begin{proof}
    We will first argue about $\simeq$. Let $x,y,z \in \hyp \R$. Clearly, it's reflexive since $x-x=0$. If $x \simeq y$ then we have $x-y= \epsilon$, thus $y-x=-\epsilon$, and so $y \simeq x$. If $x \simeq y$ and $y \simeq z$ then we have $x-y=\epsilon$ and $y-z=\delta$, adding the two get us $x \simeq z$. The arguement of $\sim$ is similar, so we omit the details.
  \end{proof}

  \begin{exercise}
    (Section 5.5, II)
    If $b \simeq x \leq y \simeq c$ with $b$ and $c$ real, show that $b \leq c$. What if $b$ and/or $c$ are not real?
  \end{exercise}
  \begin{proof}
    First we will prove an useful lemma, if $y>0$ and $y \simeq k$ then $k>0$. Let $k=y+\ep$. In the case where $\ep=0$ and $\ep>0$, it follows trivially. So assume $\ep<0$. Thus, $y-\frac{1}{n}<y+\ep=k$ for all $n \in \N$. Since $\frac{y}{2}$ a real number, we know that there exists $m \in \N$ such that $\frac{1}{m}<\frac{y}{2}$ which implies $0<\frac{y}{2}=y-\frac{y}{2}<y-\frac{1}{m}<k$. This proves the lemma. \\
    Now assume to the contrary that $c<b$. Thus, $0<c-b$ but it implies that $0<x-y$, since $c-b \simeq x-y$, which is a contradiction.\\
    The result would not be true if $b$ is not real. Consider $\ep \simeq 0 \leq 0 \simeq 0$ for some positive infintisimal $\ep$, this would imply $\ep \leq 0$ which is false. 
  \end{proof}

  \begin{exercise}
    (Section 5.5, III)
    $\hal(b)=\{b+\ep: e \in \hal (0)\}$.
  \end{exercise}
  \begin{proof}
    The converse inclusion is trivial. For forward, notice that $x \in \hal (b)$ means that $x-b=\ep$, and so $x=b+\ep$.
  \end{proof}

  \begin{exercise}
    (Section 5.5, IV)
    $\gal(b)=\{b+c: c\in \gal (0) \}$.
  \end{exercise}
  \begin{proof}
    Again, the converse implication is trivial. For forward, we see that $x \in \gal(b)$ means $x-b=c$ where $c$ is a limited number, and so $c \in \gal(0)$. Thus, $x=b+c$ for some $c \in \gal(0)$.
  \end{proof}
  
  \begin{exercise}
    (Section 5.5, V)
    If $x \simeq y$ and $b$ is limited, prove that $b \cdot x \simeq b \cdot y$. Show that the result can fail for unlimited $b$. 
  \end{exercise}
  \begin{proof}
    Since $x \simeq y$, we have $x-y=\ep$ for some $\ep \in \hal(0)$. Multiplying by $b$ on both sides get us, $bx-by=b \cdot \ep$. It follows that $b \cdot \ep \in \hal(0)$, so $bx \simeq by$. Consider $b=\frac{1}{\ep}$then $b \cdot \ep=1$ which is not infinitisimal.
  \end{proof}

  \begin{exercise}
    (Section 5.5, VI)
    Show that any galaxy contains members of $\hyp \Z$, of $\hyp \Q - \hyp \Z$, and of $\hyp \R - \hyp \Q$.
  \end{exercise}
  \begin{proof}
    Let $b \in \hyp \R$. Clearly, $b-a$ for $a \in \hyp Z$, such that $a$ is intger, is limited. 
  \end{proof}

  \begin{exercise}
    (Section 5.7, I)
    Prove theorem 5.6.2: \\
    (a) $\sh (b\pm c) = \sh (b) \pm \sh (c)$. \\
    (b) $\sh(bc)=\sh(b)\cdot \sh(c)$. \\
    (c) $\sh(b/c)=\sh(b)/\sh(c)$ if $\sh(c) \not = 0$ (ie $c$ is appreciable).\\ 
    (d) $\sh(b^n)=\sh(b)^n$. \\
    (e) $\sh (|b|)=|\sh (b)|$.\\
    (f) $\sh(\sqrt[n]{b})=\sqrt[n]{\sh(b)}$, if $b \geq 0$. \\
    (g) If $b \leq c$ then $\sh(b) \leq \sh(c)$.
  \end{exercise}
  \begin{proof} Consider $b=\sh(b)+\ep$ and $c=\sh(c)+\del$ for some infinitisimal $\ep$ and $\del$. \\
    (a) For $\sh(b+c)$, notice that $b+c-(\sh(b)+\sh(c))=\ep+\del$. Thus, $\sh(b+c) \simeq b+c \equiv \sh(b)+sh(c)$. From the uniqueness of shadow, it follows $\sh(b+c)=\sh(b)+\sh(c)$. We get identical result in case of $\sh(b-c)$ by considering $b-c-(\sh(b)-\sh(c))=\ep-\del$. \\

    (b) Notice that $bc=\sh(b)\sh(c)+\sh(b) \del +\sh(c)\ep +\ep\del$ where $\sh(b) \del, \sh(c)\ep, \ep\del$ are infintisimals. So, $\sh(bc) \simeq bc \simeq \sh(b)\sh(c)$, and thus by uniqueness of shadow we have $\sh(bc)=\sh(b)\sh(c)$.\\

    (c) Notice that, applying (b), we have $\sh(b/c)=\sh(b) \cdot \sh(1/c)$. So if we could prove $\sh(1/c)=1/\sh(c)$, we would be done. Therefore, we set that as our goal. Clearly, $\frac{1}{c}-\frac{1}{\sh(c)}=\frac{1}{\sh(c)+\del}-\frac{1}{\sh(c)}=\frac{\del}{\sh(c)^2+\sh(c)\del}$. Since $\sh(c)^2+\sh(c)\del$ is appreciable it follows that $\frac{\del}{\sh(c)^2+\sh(c)\del}$ is infinitismal, and thus $\sh(1/c) \simeq 1/c \simeq 1/\sh(c)$. Hence, $\sh(1/c)=1/sh(c)$ by uniqueness of shadow. \\

    (d) Trivially follows from induction on (b). \\

    (e) If we could prove that $|b|\simeq |\sh (b)|$, we would be done since from uniqueness of shadow, $\sh |b|=|\sh (b)|$ would hold. Notice that $|b|-|\sh (b)| \leq |\sh (b)|+|e|-|\sh (b)|=|e|$. If $0 \leq |b|-|\sh (b)|$ then clearly $|b|-|\sh b| \leq |e|<1/n$ for all $n \in \N$. If $|b|-|\sh (b)|<0$ then $-1/n<-|e| \leq |b|-|\sh(b)|$ for all $n \in \N$. Thus, $||b|-|\sh (b)||<1/n$ for every natural $n$. Hence, $|b|-|\sh(b)$ is infinitisimal as desired. 

    (f) If $\sh(b^\frac{1}{n})<(\sh (b))^\frac{1}{n}$ then by squaring both side and applying part (d), we would get $\sh (b)=\sh(b^{1/n \cdot n})=(\sh (b^{1/n}))^n<(\sh b)^{1/n \cdot n}=\sh(b)$ which is a contradiction. We would get identical contradiction in case of $(\sh (b))^\frac{1}{n}<\sh(b^\frac{1}{n})$. 

    (g) It follows from 2nd exercise of section 5.5.
  \end{proof}

  \begin{exercise}
    (Section 5.7, I)
    Show that if $b,c$ are limited, and $b \simeq b^\p, c \simeq c^\p$, then $b \pm c \simeq b^\p \pm c^\p, b\cdot c \simeq b^\p \cdot c^\p$, and $b/c \simeq b^\p/c^\p$ if $c \not \simeq 0$. Show that the last result can fail when $c \simeq 0$.
  \end{exercise}
  \begin{proof}
    Let $b=b^\p+\ep$ and $c=c^\p +\del$ for some infintisimal $\ep$ and $\del$. Then $b \pm c - (b^\p \pm c^\p)=\ep \pm \del$ which is known to be infinitisimal. Thus, $b \pm c \simeq b^\p \pm c^\p$. For multiplication we have $bc-b^\p c^\p=b^\p c^\p+b^\p \del +c^\p \ep + \ep \del -b^\p c^\p=b^\p \del +c^\p \ep + \ep \del$ which is infintisimal. Finally for quotient, we have $\frac{b}{c}-\frac{b^\p}{c^\p}=\frac{b^\p +\ep}{c^\p+\del}-\frac{b^\p}{c^\p}=\frac{b^\p c^\p+c^\p \ep -b^\p c^\p-b^\p \del}{(c^\p)^2+c^\p \del}=\frac{c^\p \ep+b^\p \del}{(c^\p)^2+c^\p \del}$. Since $(c^\p)^2+c^\p \del$ is appreciable, we have $\frac{b}{c}-\frac{b^\p}{c^\p}$ to be infinitsimal. Hence, $b/c \simeq b^\p/c^\p$. For proving the result does not hold for $c \simeq 0$. Consider $b=0$. Then we have $b/c-b^\p/c^p=0-\frac{\ep}{\epsilon-\delta}$ which is not infinitisimal necessarily.
  \end{proof}

  \begin{exercise}
    (Section 5.7, II) \\
    If $\ep$ is infinitesimal, show that \\
    (a) $\sin \ep \simeq 0$, \\
    (b) $\cos \ep \simeq 1$, \\
    (c) $\tan \ep \simeq 0$, \\
    (d) $\sin \ep /\ep \simeq 1$, \\
    (e) $(\sin \ep)/\ep \simeq 1$,\\
    (f) $(\cos \ep -1)/\ep \simeq 0$.
  \end{exercise}
  \begin{proof} $ $ \\
    (a) Since $\forall x \in \R (|\sin x| \leq |x|)$ holds in $\R$, applying transfer on it, it must be the case that $\forall x \in \hyp \R (|\sin x| \leq |x|)$ holds in $\hyp \R$. Therefore, $|\sin \ep| \leq |\ep|$, and so $\sin \ep$ is infintisimal. Hence, $\sin \ep \simeq 0$. \\

    (b) Since $\cos \ep=\sqrt{(1-\sin^2 \ep)}$, we have $\sh (cos \ep)=\sh \sqrt{(1-\sin^2 \ep)}=\sqrt{(\sh(1)-\sh(\sin^2 \ep))}=\sqrt{(1-\sh(\del^2))}=\sqrt{(1-0)}=1$. Clearly, $\cos \ep \simeq \sh(\cos \ep)=1$. \\

    (c) $\sh (\tan \ep)=\sh(\sin \ep)/\sh( \cos \ep)=0/1=0$. Hence, $\tan \ep \simeq 0$. \\

    (d) Notice that $|\sin \ep| \leq |\ep|$, so $|\sin (\ep)/\ep| \leq 1$. Thus, $\sh \left( \left| \frac{\sin \ep}{\ep} \right| \right) \leq 1$. We will now show that $\sh \left( \left| \frac{\sin \ep}{\ep} \right| \right)<1$ leads to contradiction which would get us $\sh \left( \left| \frac{\sin \ep}{\ep} \right| \right)=1$. Clearly if $\sh \left( \left| \frac{\sin \ep}{\ep} \right| \right)<1$ then $0=\sh(|\sin \ep|)-\sh|\ep|<0$ which is false. Therefore, $(\sin \ep)/\ep \simeq \sh \left( \left| \frac{\sin \ep}{\ep} \right| \right)=1$. \\

    (e) By the sine inequality, $|\sin \ep|/|\ep| \leq 1$. By the tangent inequality, $|x| \leq |\tan (x)|$ for $x \in [0, \pi/2)$, we have $|\cos x|\leq |\sin x|/|x|$. Combining the two inequalities and taking shadow we see $1=\sh (|\cos \ep|) \leq \sh (|\sin(\ep)/\ep |) \leq 1$. Therefore, $\sh(|\sin(\ep)/\ep |)=1$. Hence, $(\sin \ep)/\ep \simeq 1$. \\

    (f) By cosine inequality, $1-\frac{\ep^2}{2} \leq \cos \ep$, we have $-\ep/2 \leq (\cos \ep -1)/\ep$. Since $cos \ep \leq 1$, we have $(\cos \ep -1)/\ep \leq 0/\ep=0$. Hence $|(\cos \ep-1)/\ep| \leq \ep/2$ and so $(\cos \ep-1)/\ep$ is infinitesimal, which makes it infinitely close to $0$.
  \end{proof}

  \begin{exercise}
    (Section 5.7, III)
    Show that every hyperreal is infinitely close to some hyperrational number.
  \end{exercise}
  \begin{proof}
    Since $\forall x,y \in \R (x<y \text{ implies } \exists q \in \Q (x<q<y))$ holds in reals (density of rationals), by transfer, we have $\forall x,y \in \hyp \R (x<y \text{ implies } \exists q \in \hyp \Q (x<q<y))$. In particular there is a hyperrational $q$ such that $r<q<r+\ep$ for any hyperreal $r$. Clearly such a $q$ is infinitely close to $r$.
  \end{proof}

  \begin{exercise}
    (Section 5.7, IV)
    Show that $\R$ is isomorphic to the ring of limited hyperrationals $\hyp \Q \cap \mathbb{L}$ factored by its ideal $\hyp \Q \cap \I$ of hyperreational infintisimal.
  \end{exercise}
  \begin{proof}
    \[\begin{tikzcd}
      {\bullet {}^*\mathbb{Q} \cap \mathbb{L}} &&&& {\bullet \mathbb{R}} \\
      \\
      && {\bullet ({}^* \mathbb{Q} \cap \mathbb{L})/({}^* \mathbb{Q} \cap \mathbb{I})}
      \arrow["{\text{canonical projection}}"', two heads, from=1-1, to=3-3]
      \arrow["{f(\text{hal}(b)+({}^* \mathbb{Q} \cap \mathbb{L})/({}^* \mathbb{Q} \cap \mathbb{I}))=\text{sh}(b)}"{description}, tail, two heads, from=3-3, to=1-5]
      \arrow["{\text{sh}}"', two heads, from=1-1, to=1-5]
    \end{tikzcd}\]
    Consider shadow function restricted to $\hyp \Q \cap \mathbb{L}$, in what follows we would use $\sh$ notation for it instead of $\sh_{\hyp \Q \cap \mathbb{L}}$. We will first justify it's surjective. Since $\R \subseteq \hyp \R$, applying previous exercise, we see that for any $x \in \R$, there is $q \in \hyp \Q$ such that $x \simeq q$ but then it would mean $x \simeq \sh(q)$. Since both $x$ and $\sh(q)$ are reals, it must be the case that $x=\sh(q)$. Hence, $\sh(q)=x$ as desired. Notice that for any $[r] \in (\hyp \Q \cap \mathbb{L})/(\hyp Q \cap \I)$, we have $[r]=r+\hyp Q \cap \I$ which is nothing but $\hal(r)$. Define $f: (\hyp \Q \cap \mathbb{L})/(\hyp Q \cap \I) \rightarrow \R$ as $\hal(b) \mapsto \sh(b)$. By the first isomorphism theorem of rings, it follows $(\hyp \Q \cap \mathbb{L})/(\hyp Q \cap \I) \simeq \R$.
  \end{proof}

  \begin{exercise}
    (Section 5.9, Exercise on Dedekind completeness)
    For threoem 5.8.1, instead of showing that cauchy sequences converge we can develop a direct proof that any subset $A \subseteq \R$ with a real upper bound has a least real upper bound. First, for each $n \in \N$, let $s_n$ be the least $k \in \Z$ such that $k/n$ is an upper bound of $A$. Then take an unlimited $N \in \hyp \N_\infty$ and let $L \in \R$ be infinitely close to $s_N/N$. \\
    (a) Verify that $s_n$ exists as defined for $n \in \N$. \\
    (b) Show the $s_N/N$ is limited, so that such a real $L$ exists under hypothesis of theorem 5.8.1. \\
    (c) Prove that $L$ is a least upper bound of $A$ in $\R$.
  \end{exercise}
  \begin{proof} Let $r$ be an upper bound of $A \subseteq \R$. \\
    (a) Let $n \in \N$. Consider the set $B=\{m \in \N: m/n \text{ is an upper bound of } A \}$. Since $r \in \R$, by archimedean property, we know that there exists $l \in \N$ such that $r<l$. Clearly $l\cdot n \in B$, and so $B$ is non empty. By the well ordering principle, it follows that there exists a least element in $B$, or in other words there exists a least $k \in \N$ such that $k/n$ is an upperbound of $A$ for each $n$. \\

    (b) Let $n \in \N$. Since $s_n$ is the least integer such that $s_n/n$ is upperbound of $A$, clearly $(s_n-1)/n$ is not an upper bound. But that means there exists some $a \in A$ such that $(s_n-1)/n \leq a \leq s_n/n$. Applying transfer on the statement $(\forall n \in \N) (\exists a \in A) ((s_n-1)/n \leq a \leq s_n/n)$, we get $(\forall n \in \hyp \N) (\exists a \in \hyp A) ((s_n-1)/n \leq a \leq s_n/n)$. In particular, we have $(s_N-1)/N \leq a \leq s_N/N$. However since $s_N/N$ and $(s_N-1)/N$ are infinitely close, it must be the case that $a$ is infinitely close to $s_N/N$. Applying transfer on the statement $(\forall a \in A) (a \leq r)$, where $r$ is the real upper bound we are given, we get $(\forall a \in \hyp A)(a \leq r)$.  Thus, $s_N/N \leq r$. Next we will prove that is not negative unlimited either. Since $A \subseteq \hyp A$ and $s_N/N$ is an upper bound of $\hyp A$, we have some $x \in A$ such that $x \leq s_N/N$. Hence, $x \leq s_N/N \leq r$ for some real $r,s$. \\

    (c) For the sake of contradiction assume there is an upper bound, $K$, of $A$ such that $K<L$. Notice that there does not exists any $a \in A$ such that $a \in [K, L]$ since otherwise $K$ would not be an upper bound. Applying transfer on $(\forall a \in A) (a \notin [K, L])$, we get $(\forall a \in \hyp A)(a \notin \hyp [K, L])$ which is false since in previous paragraph we demonstrated that there is an element of $\hyp A$ which is infinitely close to $L$.
  \end{proof}

  \begin{exercise}
    (Section 5.11, I)
    Provide an analogous description of the order structure of the hyperintgers $\hyp \Z$.
  \end{exercise}
  \begin{proof}
    By transfer, we know that $\hyp \Z$ is closed under addition, subtraction and multiplication. Observe that only limited hyperinteger are members of $\Z$ since if $k \in \hyp Z$ is limited then $|k| leq n$ for some $n \in \N$ but that means $-n \leq k \leq n$. Applying transfer on $\forall x \in \Z (-n \leq x \leq n \rightarrow x=-n \lor x=-n+1 \lor \cdots x=1 \lor \cdots x=n)$, thus $k \in \{-n, -n+1, \cdots, n\}$, and so $k \in \Z$. Therefore, all numbers of $\hyp \Z-\Z$ are unlimited and thus either less than all members of $\Z$ or greater than it. Let $K \in \hyp \Z - \Z$. Define $\gamma (K)=\{K\} \cup \{K \pm n: n \in \N\}$, clearly all members of $\gamma(K)$ are unlimited and $\gamma(K)$ is isomorphic to $\Z$ under the usual ordering. Alternatively, we can defined $\gamma(K)=\{H \in \hyp \Z: Z \sim H\}=\gal(K) \cap \hyp \Z$. Notice that $Z$ itself is a $\hyp \Z$ galaxy, $\Z=\gal(0) \cap \hyp \Z$. \\

    We define order on $\hyp \Z$ galaxy as $\gamma(Y)< \gamma (H)$ iff $Y \leq H$ whenever $K \not \sim H$. Clearly there is no greatest $\hyp \Z$ galaxy since $\gamma(K)< \gamma (2K)$ for any positive unlimited $K$. Simillarly there is no smallest galaxy either. To see why notice that either $K$ is even or $K+1$ is, by transfer. If $K+1$ is even, we have $\gamma(K+1/2)<\gamma(K+1)=\gamma(K)$. If $K$ is even then we have $\gamma(K)<\gamma(K)$. \\

    We can imagine ordering on $\hyp \Z$ as ordering of $\Z$ surrounded by ordered set of $\hyp \Z$ galaxies with no greatest or least.
  \end{proof}

  \begin{exercise}
    (Section 5.11, II)
    Show that for any $M \in \hyp \N$ there is an $N \in \hyp \N$ that is divisble by all members of $\{1,2,\cdots, M\}$. Hence show that there exists a hypernatural number $N$ that is divisble by every standard positive integer.
  \end{exercise}
  \begin{proof}
    We extend the factorial function $!:\N \rightarrow \N$ to $!:\hyp \N \arr \hyp \N$ using extension of function. Applying transfer on the statement $(\forall n \in \N)(k \leq n \arr k|n!)$, we get $(\forall n \in \hyp \N)(k \leq n \arr k|n!)$. Thus, letting $N=M!$ does the job.
  \end{proof}

  \begin{exercise}
    (Section 5.11, III)
    Develop a theory of prime factors in $\hyp \N$: if $\Pi$ is the set of standard prime numbers, with enlargement $\hyp \Pi \subseteq \hyp \N$, prove the following. \\
    (a) $\hyp \Pi$ consists precisely of those hypernaturals $>1$ that have no nontrivial factors in $\hyp \N$. \\
    (b) Every hypernatural number $>1$ has a hyperprime factor, i.e., is divisble by some members of $\hyp \Pi$. \\
    (c) Two hypernaturals are equal if they have exactly the same factors of the form $p^n$ with $p \in \hyp \Pi$ and $n \in \hyp \N$. \\
    (d) A hypernatural number is divisible by every standard positive integer iff it is divisible by $p^n$ for every standard prime $p$ and every $n \in \N$.
  \end{exercise}
  \begin{proof} $ $ \\
    (a) By transfer on $(\forall x \in \Pi) (x>1 \rightarrow \text{ x have no nontrivial factors in } \N)$. \\
    (b) By transfer on $(\forall n \in \N)(n>1 \rightarrow \exists p \in \Pi)(p|n)$.  \\
    (c) By transfer on $(\forall x \in \N)(\forall y \in \N)(x=y \leftrightarrow$ they have exactly the same factors of the form $p^n$ with $p \in \Pi$ and $n \in \N$). \\
    (d) Trivial.
  \end{proof}

\chapter{Convergence of Sequences and Series}

  \begin{exercise}
    (Section 6.3, I)
    Prove theorem 6.3.1. If $\lim_{n \arr \infty }s_n=L$ and $\lim_{n \arr \infty} t_n=M$ in $\R$. Then \\
    (a) $\lim_{n\arr \infty} (s_n+t_n)=L+M$. \\
    (b) $\lim_{n \arr \infty} (cs_n)=cL$, for any $c \in \R$, \\
    (c) $\lim_{n \arr \infty} (s_n t_n)=LM$, \\
    (d) $\lim_{n \arr \infty} (s_n/t_n)=L/M$, if $M \not = 0$.
  \end{exercise}
  \begin{proof} For what follows consider $N \in \hyp \N_{\infty}$. It means that $s_N \simeq L$ and $t_N \simeq M$.\\
    (a) Since $s_N \simeq L$ and $t_N \simeq M$, it follows $s_N+t_N \simeq L+M$. Since $N$ was arbitrary, we have $s_n+t_n \simeq L+M$ for all unlimited $n$. Hence, $\lim_{n \arr \infty } (s_n+t_n)=L+M$. \\
    (b) Since $S_N \simeq L$, we have $c S_N \simeq cL$. Since $N$ was arbitrary, $cs_n \simeq cL$ for all unlimited $n$. Hence, $\lim_{n \arr \infty } cs_n=cL$. \\
    (c) Since $s_N \simeq L$ and $t_N \simeq M$, we have $s_N t_N \simeq LM$ but since $N$ was arbitrary, it follows $s_nt_n \simeq LM$ for all unlimited $n$. Hence, $\lim_{n \arr \infty} (s_n t_n)=LM$. \\
    (d) Again, from $s_N \simeq L$ and $t_N \simeq M$, we have $s_N/t_N \simeq L/M$ but since $N$ was arbitrary, $\lim_{n \arr \infty } s_n/t_n=L/M$.
  \end{proof}
  \begin{exercise}
    (Section 6.4, I)
    Prove theorem 6.4.2. A real valued sequence \\
    (a) diverges to infinity iff all of its extended terms are positive unlimited; and \\
    (b) diverges to negative infinity iff all of its extended terms are negative unlimited.
  \end{exercise}
  \begin{proof} Let the sequence be $(s_n)$. \\
    (a) First we prove forward direction. Let $r \in \R$. Since the sequence diverges, we know that there is some $n \in \N$ such that $(\forall m \in \N)(m \geq n \arr s_m>r)$ holds true. Applying transfer on it, we have $(\forall m \in \hyp \N)(m \geq n \arr s_m>r)$ to be true. In particular, $s_N>r$ for any $N \in \hyp \N_\infty$ since $N>n$. It follows that $s_N$ is positive unlimited for all $N \in \hyp \N_\infty$. We prove the converse direction. Let $r \in \R$. Notice that for any unlimited $N \in \hyp \N_\infty$ if $M\geq N$ then $M \in \hyp \N_\infty$. Therefore, it follows that $(\exists n \in \hyp \N)(\forall m \in \hyp \N)(m \geq n \arr s_m>r)$ since $s_m$ is positive unlimited by assumption. Transferring the statement to $\R$, we have $(\exists n \in \N)(\forall m \in \N)(m \geq n \arr s_m>r)$ to be true in $\R$. Since $r$ was arbitrary, we have $(s_n)$ to be divergent to positive infinity. \\

    (b) Follows from (a) by considering the sequence $(-s_n)$.
  \end{proof}
  \begin{exercise}
    (Section 6.5, I)
    Prove theorem 6.5.1. A real values sequence $\la s_n \ra$ is Cauchy in $\R$ iff all it's extended terms are infinitely close to each other, i.e., iff $s_m \simeq s_n$ for all $m,n \in \hyp \N_\infty$.
  \end{exercise}
  \begin{proof}
    First we prove the forward implication. Suppose $\la s_n \ra$ is cauchy. Let $\ep \in \R^+$ and $j \in \N$ be such that $(\forall m,n \in \N)(m,n \geq j \rightarrow |s_m-s_n|<\ep)$. Applying transfer on the latter we know $(\forall m,n \in \hyp \N)(m,n \geq j \rightarrow |s_m-s_n|<\ep)$ is true in $\hyp \R$. In particular, we have $|s_M-s_N|<\ep$ for arbitrary $M, N \in \hyp \N_\infty$ since $j$ is limited. Since $\ep$ was arbitrary positive real number, we have $s_M \simeq s_N$. We now prove the converse direction. Suppose $s_m \simeq s_n$ for all $m,n \in \hyp \N_\infty$. Let $\ep \in \R^+$ be arbitrary. Notice that for any $K \in \hyp \N_\infty$, if $L \geq N$ then $L \in \hyp \N_\infty$, and also notice for any $L, K \in \hyp \N_\infty$, $s_L-s_K=\delta$ where $\delta$ is infintisimal. Therefore, we have $(\exists j \in \hyp \N)(\forall m,n \in \hyp \N)(m,n \geq j \rightarrow |s_m-s_n| \leq \ep)$ to be true in $\hyp \R$. Applying transfer to it, we have $(\exists j \in \N)(\forall m,n \in \N)(m,n \geq j \rightarrow |s_m-s_n|<\ep)$ to be true in $\R$. Since $\ep \in \R^+$ was arbitrary, we have $(s_n)$ to be cauchy. 
  \end{proof}
  
  \begin{exercise}
    (Section 6.5, II). Cauchy's convergence Criterion. \\
    Prove the foward direction of \textit{A real valued sequence converges in $\R$ iff it is cauchy}.
  \end{exercise}
  \begin{proof}
    Let $(s_n)$ be a real valued sequence and suppose it convergence in $\R$ to $L$. Therefore, by theorem 6.1.1, we have $s_N \simeq L$ for all $n \in \hyp \N_\infty$ but that means all extended terms are infinitely close to each other i.e. for any $n,m \in \hyp \N_\infty$, $s_n \simeq L \simeq s_m$. Therefore, by theorem 6.5.1, we have $(s_n)$ to be cauchy.
  \end{proof}

  \begin{exercise}
    (Section 6.7, I)
    Let $(s_n)$ and $(t_n)$ be real valued sequences with limits, $L, M$ respectively. Show that if $s_n \leq t_n$ for $n \in \N$. Then $L \leq M$.
  \end{exercise}
  \begin{proof}
    Applying transfer on $(\forall n \in \N)(s_n \leq t_n)$, we have $(\forall n \in \N)(s_n \leq t_n)$ to be true in $\hyp \R$. In particular for any $N \in \hyp \N_\infty$, we have $s_N \leq t_N$, however, since $L \simeq s_N \leq t_N \simeq M$, we have $L \leq M$ by exercise 2 of section 5.5.
  \end{proof}
  
  \begin{exercise}
    (Section 6.7, II)
    If $r_n \leq s_n \leq t_n$ in $\R$ for all $n \in \N$, and $\lim_{n \arr \infty} r_n=\lim_{n \arr \infty} t_n$, show that $(s_n)$ converges to this same limit.
  \end{exercise}
  \begin{proof}
    Applying transfer on $(\forall n \in \N)(r_n \leq s_n \leq t_n)$, we have $(\forall n \in \hyp \N)(r_n \leq s_n \leq t_n)$ to be true in $\hyp \R$. In particular, for any $N \in \hyp \N_\infty$, we have $r_N \leq s_N \leq t_N$. However, since $(r_N), (t_N)$ are limited, $s_N$ is limited. By the shadow inequalitiy, we have $\sh(r_N) \leq \sh(s_N) \leq \sh(t_N)=\sh(r_N)$. Hence, $\sh(s_N)=\sh(r_N)=\lim_{n \arr \infty} r_n$ but that means $r_N \simeq \lim_{n \arr \infty} r_n$ for all $N \in \hyp \N_\infty$. Hence, $(s_n)$ converges to $\lim_{n \arr \infty} r_n$.
  \end{proof}

  \begin{exercise}
    (Section 6.7, III)
    If a sequence converges in $\R$, show that it has exactly one cluster point.
  \end{exercise}
  \begin{proof}
    Suppose $(s_n)$ converges to $L$ and assume it has two cluster point $A$ and $B$. By definition of convergence we have $s_N \simeq L$ for all $N \in \hyp N_\infty$ but that would imply $B \simeq L \simeq A$ by the definition of cluster point, since they are reals, it follows $A=L=B$. 
  \end{proof}

  \begin{exercise}
    (Section 6.7, IV)
    Suppose that a real valued sequence has a single cluster point. If the sequence is bounded, must it be convergent? what if it is unbounded?
  \end{exercise}
  \begin{proof}
    Let $(s_n)$ be a bounded sequence which has an unique cluster point i.e. for some $M \in \hyp \N_\infty$, we have $s_M \simeq L$ for some real $L$. Suppose it is not convergent. Therefore, there must exists $N \in \hyp \N_\infty$ such that $s_N \not \simeq L$. However since $(s_n)$ is bounded, we have $s_N$ to be limited and hence infinitely close to a real number ie its shadow. But if $\sh(s_N) \not = L$, clearly $\sh(s_N)$ is a cluster point which contradicts the assumption that there was an unique cluster point. \\
    Consider the sequence $\la s \ra=(0,1,0,2,0,3,\cdots)$. Clearly this sequence has only one cluster point and is unbounded but it does not converges to any real number.
  \end{proof}
  \begin{exercise}
    (Section 6.8, I)
    Prove, by nonstandard reasoning, that both the limit superior and limit inferior are cluster points of the sequence $s$.
  \end{exercise}
  \begin{proof}
    Let $L=\limsup s$ and $\ep \in \R^+$. Since $L$ is supremum of $C_s$, we know there exists $N \in \hyp \N_\infty$ such that $L-\ep <s_N \leq L$. Consider some arbitrary $n \in \N$. We have $(\exists m \in \hyp \N)(m>n \land L-\ep<s_m)$ to be true, and applying transfer on it, it follows $(\exists m \in \N)(m>n \land L-\ep<s_n)$ is true in $\R$. Since $\ep \in \R^+$ and $n \in \N$ was arbitrary, $(\forall \ep \in \R^+)(\forall n \in \N) (\exists m \in \N)(m>n \land L-\ep<s_m)$ is true in $\R$. Applying transfer we see $(\forall \ep \in \hyp \R^+) (\forall n \in \hyp \N)(\exists m \in \hyp \N)(m>n \land L-\ep<s_n)$ holds in $\hyp \R$. Picking $\ep$ as some infinitesimal and $n$ as unlimted, we follow there is some $m \in \hyp \N$ making $m>n$ and $L-e<s_m$ true, that is to say, there is unlimited $m$ such that $L<s_m+e$. Therefore, it follows $L \leq \sh(s_m)$ for an unlimited $m$. However, since $L$ is upper bound of $C_s$, we must have $L=\sh(s_m)$ making it a cluster point. We cab argue about $\lim \inf$ in a similar fashion.
  \end{proof}
  \begin{exercise}
    (Section 6.9, I)
    Formulate the definition of the limit inferior of an arbitrary real valued sequence.
  \end{exercise}
  \begin{answer} $ $ \\
    \textbf{Proposition} A real number $L$ is equal to $\liminf s$ if and only if \\
    (1) $L<s_n$ or $L \simeq s_n$ for all unlimited $n$; and \\
    (2) $s_n \simeq L$ fdor atleast one unlimited $n$. \\
  \begin{proof} 
    The condition (1) holds iff $L \leq \sh(s_n)$. Thus, it implies $L$ is lower bound of set of cluster points, $C_s$. The condition (2) asserts that $L$ is a cluster point i.e. $L \in C_s$. Together they imply that $L$ is infimum (since it's the smallest element) of the set. Hence, it is equal to $\liminf s$.  
  \end{proof}
  \end{answer}
  
  \begin{exercise}
    (Section 6.9, III)
    Formulate and prove theorems about the limit inferior of a bounded sequence that correspond to theorems 6.8.4 and 6.8.5.
  \end{exercise} 
  \begin{answer} $ $ \\
    \textbf{Proposition-1.} If $s$ is a bounded real valued sequence with limit inferior, $\liminf$, then for any positive real $\ep$: \\
    (1) Some standard tail of $s$ has all its terms bigger than $\liminf-\ep$ i.e. $\liminf-\ep<s_n$ for all but finitely many $n \in \N$. \\
    (2) $s_n<\liminf +\ep$ for infinitely many $n \in \N$.
    \begin{proof}
      Let $L=\liminf s$. Consider $\ep \in \R^+$. First we prove (1). For any unlimited $N$, we have $L<s_N$ or $L \simeq s_N$. Thus, $L-\ep<s_N$ holds for any unlimited $N$. Trasnferring $(\exists n \in \hyp \N)(\forall m \in \hyp \N)(m \geq n \land L-\ep<s_m)$, we have $(\exists n \in \N)(\forall m \in \N)(m>n \land L-\ep<s_m)$ to be true in $\R$ but that simply means $L-\ep<s_m$ is true for all but finitely many $n$. We now prove (2). Let $m \in \N$. We know that $L$ is infinitely close to $s_N$ for some unlimited $N$. Thus, $(\exists n \in \hyp \N)(n>m \land s_n<L+\ep)$ is true in $\hyp \R$. Transfering it, we have $(\exists n \in \N)(n>m \land s_n<L+\ep)$ to be true in $\R$. However since $m \in \N$ was arbitrary, it follows that for any $m \in \N$ there exists $n \in \N$ such that $n>m$ and $s_n<L+e$ satisfying the proposition.
    \end{proof}
    \textbf{Proposition-2.} For any bounded real valued sequence $s$, $$\liminf_{n \arr \infty} s_n=\lim_{n \arr \infty} I_n=\lim_{n \arr \infty} \left(\inf_{m \geq n} s_m \right)$$ where $I_n=\inf_{m \geq n} s_m$.
    \begin{proof}
      First we will prove that $\liminf$ is upper bound of $I$. Take an extended term $s_N$ infinitely close to the cluster point $\liminf$. For any $m \in \N$, we have $I_m \leq s_n$ for all limited $n \geq m$, and hence it holds for all hypernatural $n \geq m$ by transfer. In particular, $I_m \leq s_N$, as $\liminf \simeq s_N$, we have $I_m \leq \liminf$. \\
      Let $L=\lim I_n$. Then clearly $L$ is supremum of $I$ since $I$ is nondecreasing. However, as we showed $\liminf$ is an upper bound, we must have $L \leq \liminf$. We will now show that $L< \liminf$ is impossibility. Suppose $L< \liminf$ and consider some $\ep \in \R^+$ such that $L<\lim\inf-\ep$. By proposition-1, we know that there exists $n \in \N$ such that standard tail beyond $n$ is bounded below by $\liminf-\ep$. But that means that $\liminf-\ep \leq I_n$, and so $L<\liminf-\ep\leq I_n$ which contradicts the fact that $L$ was upper bound of $I$. Hence, $\liminf=L$.
    \end{proof}
  \end{answer}

  \begin{exercise}
    (Section 6.9, III)
    If $s$ is a bounded sequence, show that for each $\ep \in \R^+$ there is some $n \in \N$ such that the standard tail $s_n, s_{n+1}, \cdots$ is contained in the interval $(\liminf-\ep, \limsup+\ep)$.
  \end{exercise}
  \begin{proof}
    By theorem 6.8.4 and previous exericse, we know that there exists $N \in \N$ such that for all $n\geq N$, $s_n<\limsup+\ep$ and there exists $N^\p \in \N$ such that for all $n\geq N^\p$, $s_n<\limsup+\ep$. Defining $m=\max\{N, N^\p\}$, the tail following $s_m$ is the desired one.
  \end{proof}

  \begin{exercise}
    (Section 6.11, I)
    Give an example of a series that diverges but has $a_n$ infinitesimal for all unlimted $n$.
  \end{exercise}
  \begin{proof}
    Consider the sequence $(s_n)$ defined as $(s_n)=(1/n)$. Clearly for any unlimited $n$, $a_n$ is infinitisimal. However, notice that 
    \begin{align*}
      \sum_{n=1}^\infty \frac{1}{n} &\geq 1+\sum_{n=1}^\infty \sum_{k=1}^{2^{n-1}} \frac{1}{n} \\
      &\geq 1+\sum_{n=1}^\infty \frac{1}{2}
    \end{align*}
    Since the last series is divergent, so is $\sum_{n=1}^\infty \frac{1}{n}$.
  \end{proof}

  \begin{exercise}
    (Section 6.11, II)
    Give nonstandard proofs of the usual rules of arithemtically combining convergent series. \\
    (a) $\sum_{1}^\infty a_i+\sum_{1}^\infty b_i=\sum_{1}^\infty (a_i+b_i)$, \\
    (b) $\sum_1^\infty a_i-\sum_1^\infty b_i=\sum_1^\infty (a_i-b_i)$,
  \end{exercise}
  \begin{proof} We will first prove (a), then (c), and then use (a) and (c) for proving (b). For what follow, Let $L=\sum_{1}^\infty a_i$ and $M=\sum_{1}^\infty b_i$. \\
    (a) Let $N \in \hyp \N_\infty$. Since $\sum_{1}^n (a_i+b_i)=\sum_{1}^n a_i+\sum_{1}^n b_i$ holds in $\R$ for all $n \in \N$, by transfer we know it also holds in $\hyp \R$ for all $n \in \hyp \N$. Hence, $$\sum_{1}^N (a_i+b_i)=\sum_{1}^N a_i+\sum_{1}^N b_i.$$ and thus, 
    \begin{align*}
      \sh \left(\sum_{1}^N (a_i+b_i)\right) &=\sh \left(\sum_{1}^N a_i+\sum_{1}^N b_i \right) \\
      &=\sh \left(\sum_{1}^N a_i \right)+\sh \left( \sum_{1}^N b_i \right) \\
      &= L+M
    \end{align*}

    As desired. \\

    (c) Let $N \in \hyp \N_\infty$. Then it follows 
    \begin{align*}
      \sh \left( \sum_{1}^N ca_i \right) &= \sh \left(c\sum_1^N a_i \right) &\text{(by transfer)}\\
      &= c\cdot \sh \left( \sum_1^N a_i \right) \\
      &=c \cdot L
    \end{align*}
    as desired. \\

    (b) Let $N \in \hyp \N_\infty$. Then 
    \begin{align*}
      \sh \left( \sum_1^N (a_i-b_i)\right) &= \sh \left( \sum_1^N (a_i+(-b_i))\right) \\
      &=\sh \left(\sum_{1}^N a_i \right)+\sh \left( \sum_{1}^N (-b_i) \right) &\text{(by part a)}\\
      &= \sh \left(\sum_{1}^N a_i \right) +(-1) \cdot \sh \left( \sum_{1}^N (-b_i) \right) &\text{(by part c)} \\
      &=L+(-M) \\
      &=L-M.
    \end{align*}
  \end{proof}

  \begin{exercise}
    (Section 6.11, III)
      Suppose that $a_i \geq 0$ for all $i \in \N$. Prove that $\sum_{1}^\infty$ converges iff $\sum_{1}^n a_i$ is limited for all unlimited $n$, and that this holds iff $\sum_{1}^n a_i$ is limited for some unlimted $n$.
  \end{exercise}
  \begin{proof}
      First we prove $(1) \Rightarrow (2)$. Suppose $\sum_{1}^\infty a_i$ converges to a real number $L$. Therefore, we must have $\sum_{1}^N a_i \simeq L$ for all unlimited $N$ but that means $\sum_{1}^N a_i$ is limited. The direction $(2) \Rightarrow (3)$ is easy to see. \\

      We prove $(3) \Rightarrow (2)$. Let $n \in \N$. Then we know that there exists $m \in \hyp \N$ such that $m>n$ and $\sum_{1}^m a_i \leq L+1$ where $L$ is the shadow of the limited extended term. Trasnfering it, we see that for any $n \in \N$, there exists $m \in \N$ such that $m>n$ and $\sum_{1}^m a_i \leq L+1$. Since $a_i \geq 0$ for all $i \in \N$, we have $\left| \sum_{1}^m a_i \right|=\sum_{1}^m |a_i| \leq L+1$. Hence, the sequence of partial sum is bounded which implies all extended term are limited by theorem 6.4.1. \\

      We prove $(2) \Rightarrow (1)$. Since $\sum_{1}^n a_i$ is limited for all unlimited $n$, by theorem 6.4.1, we know that sequence of partial sum is bounded. Also notice that since $a_i \geq 0$, for each $n \in \N$, $\sum_{1}^n a_i \leq \sum_{1}^{n+1} a_i$. Therefore, the sequence of partial sums is non decreasing. Hence, by theorem 6.2.1, we know it is convergent. 
  \end{proof}

  \begin{exercise}
    (Section 6.11, IV) Comparison test. \\
      Let $\sum_{1}^\infty a_i$ and $\sum_{1}^\infty b_i$ be two real series of non negative terms, with $\sum_{1}^\infty b_i$ convergent. If $a_i \leq b_i$ for all $i \in \N$, use result (III) to show that $\sum_{1}^\infty a_i$ is convergent.
  \end{exercise}
  \begin{proof}
      Since $a_i \leq b_i$ for all $i \in \N$, by transfer, we know $a_n \leq b_n$ for all unlimited $n$. By exercise (III), it follows $\sum_{1}^n b_i$ is limited for all unlimited $n$ but that means $\sum_{1}^n a_i$ is also limited for all unlimited $n$, and thus by exercise (III), is convergent.
  \end{proof}
  \begin{exercise}
    (Section 6.11, V)
      Show that the comparison test holds under the weaker assumption that $a_n \leq b_n$ for all unlimited $n$. Show that this weaker assumption is equivalent to requiring that there be some limited $k \in \N$ with $a_n \leq b_n$ fora all $n \geq k$.
  \end{exercise}
  \begin{proof}
      For the first part, notice that since $a_n \leq b_n$ for all unlimited $n$, we have $$ \sum_{m}^n a_i \leq \sum_{m}^n b_i \simeq \sh \left(\sum_{m}^n b_i \right)=0$$ for any unlimited $m,n$ with $m \leq n$, because $\sum_{1}^\infty b_i$ is convergent. However, since $ \sum_{m}^n a_i$ is finite, we have $\sh \left(\sum_{m}^n a_i \right)\leq 0$. Since partial sums of $a_i$ is non-decreasing sequence of non-negative terms, it follows $0 \leq \sum_{1}^n a_i-\sum_{1}^{m-1} a_i=\sum_{m}^n a_i$ which gives us $0=\sh \left(\sum_{m}^n a_i \right) \simeq \sum_{m}^n a_i$. Hence, by cauchy converegence criterion, we know that $\sum_{1}^\infty a_i$ converges. 

      For the second part, we know there exists $k \in \hyp \N$ such that for any all $n \geq k$, $a_n \leq b_n$ i.e. when $k$ is unlimited. Transfering it, we get the desired result. For converse, we know for any $n \geq k$, $a_n \leq b_n$. Transfering it, we have for any $n \in \hyp \N$ such that $n \geq k$, $a_n \leq b_n$ but then since $k$ is limited, the inequality holds for all unlimited numbers. 
  \end{proof}

  \begin{exercise}
    (Section 6.11, VI)
    Let $\sum_{1}^\infty a_i$ and $\sum_1^\infty b_i$ be two series of positive terms such tha the sequence $\la a_i/b_i : i \in \N \ra$ is convergent in $\R$. Deduce that either both series converge, or both diverge.
  \end{exercise}
  \begin{proof} 
    \begin{notation}{}
      Define $\la s\ra=\la a_i/b_i : i \in \N \ra$ and $L=\lim_{n \arr \infty} s$.
    \end{notation}
    We claim that the following result is true. 
    \begin{theorem1}
      If $\sum_{1}^\infty a_i$ and $\sum_1^\infty b_i$ be two series of positive terms such that the sequence $\la a_i/b_i : i \in \N \ra$ is convergent in $\R$ Then for any unlimited $m$ and $n$ it follows that $$ \sum_{m}^n a_i \text{ is infinitesimal if and only if } \sum_{m}^n b_i \text{ is infinitesimal.} $$
    \end{theorem1}
    Assuming this claim for the moment, it follows from cauchy's convergence criterion that $\sum_{1}^\infty a_i$ is convergent if and only if $\sum_{1}^\infty b_i$ is convergent, which is the first part of the problem. \\

    We prove our claim now. Suppose $\sum_{m}^n a_i$ is infintisimal for all unlimited $m$ and $n$ with $n \geq m$. Since the sequence $\la s \ra$ is convergent, we have $b_N \simeq 1/L \cdot a_N$ for any unlimited $N$. Thus, $$\sum_{m}^n b_i\simeq \sum_{i=m}^n (1/L \cdot a_i)=1/L \cdot \sum_{i=m}^n a_i$$ which is known to be infintisimal. The other direction can be proved by identical arguement considering $a_N \simeq L b_N$ for any unlimited $N$.

    We can apply the same chain of thought for proving divergence. Recall that a sequence is divergent if all of it's extended term are unlimted. Since we have $a_N \simeq L b_N$, it follows immediately that if one of them is divergent then so is the other.
  \end{proof}
  \begin{exercise}
    (Section 6.11, VII)
    Let $c \in \R$. Recall the identity \begin{align}
      1+c+c^2+\cdots+c^n=\frac{1-c^n+1}{1-c}.
    \end{align} 
    (a) Considering the case of unlimited $n$, show that the series $\sum_{1}^\infty c^i$ converges if $|c|<1$. \\
    (b) Show that $\sum_{m}^n c^i$ is infintisimal when $m$ and $n$ are unlimited, either by applying result (a) or by making further use of the above inequality.
  \end{exercise}
  \begin{proof} $ $ \\

    (a) If $c=0$ then the proposition is trivially true, so suppose $c \not =0$ for what follows. We claim the following result is true. 
      \begin{theorem1}
        For any $c \in \R$ such that $0<|c|<1$, the series $\sum_{1}^\infty |c^i|$ converges.
      \end{theorem1}

      Before we get to the proof, we see that if the theorem 1 is true then the series $\sum_{1}^\infty c^i$ is convergent because it is absolutely convergent which is what we desire. \\
      We begin the proof by noticing that $\la |c^i| \ra = \la |c|^i \ra$ for $0<c<1$ is a non increasing sequence with a lower bound, and thus by montone convergence theorem, is convergent. Let $L=\lim |c|^n$ and consider some unlimited $N$. Then applying transfer on the identity 6.1, we have $$\sum_{1}^N |c|^i=\frac{1-|c|^{N+1}}{1-|c|}-1 \simeq \frac{1-L}{1-|c|}-1$$ which is clearly limited. Therefore, it follows that $\sum_{1}^\infty c^i$ is convergent when $|c|<1$. \\

      (b) We are going to give alternative proof to it instead of using part (a). Again we will prove that $\sum_{1}^\infty c^i$ is absolutely convergent. We already know that the sequence $\la |c^i| \ra = \la |c|^i \ra$ for $0<c<1$ is convergent. Let $L=\lim |c^i|$. Then we have $$\sum_{m}^n |c^i|=\sum_{1}^n |c^i|-\sum_{1}^m |c_i| \simeq \frac{1-L}{1-c}-\frac{1-L}{1-c}=0.$$
  \end{proof}

  \begin{exercise}
    (Section 6.11, VIII) Ratio test: Convergence. \\
    Suppose that $$\limsup_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}<1$$ in $\R$. Prove that the series $\sum_{1}^\infty a_i$ is absoultely convergent.
  \end{exercise}
  \begin{proof}
    We will prove the series $\sum_{1}^\infty a_i$ is absoultely convergent by demonstrating that difference of partial sum of sequence is always less than or equal to difference of partial sum of a convergent sequence which will show that difference of partial sum of our sequence gets infinitely close eventually. We start off by proving the following theorem. 
    \begin{theorem1}
      Suppose that $\limsup_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}<1$ in $\R$. Then there exists a positive real $c<1$ with $|a_{n+1}|<c|a_n|$ for all unlimited $n$.
    \end{theorem1}
      Before we discuss the proof of it, there is an interesting corollary which follows from this. If theorem-1 is true for all unlimited numbers then by easy trasnfer, we must have $|a_{n+1}|<c|a_n|$ for all but finitely many $n \in \N$. 

      We will now prove theorem-1. If $a_i=0$ for any $i \in \N$ then $\frac{|a_{i+1}|}{|a_i|}$, i.e. the ith term of the sequence, become undefined. Therefore, we must have $a_i \not = 0$ for any $i \in \N$. Thus, $0<\frac{|a_{n+1}|}{|a_n|}$ for all $n \in \N$. Let $N$ be arbitrary unlimited natural number. Then we have $0<\frac{|a_{N+1}|}{|a_N|} \leq \limsup_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}<1$. Let $L=\limsup_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}$. Define $c=\frac{L+1}{2}$. Then we have $0<\frac{|a_{N+1}|}{|a_N|}<c$. Thus, $|a_{N+1}|<c |a_N|$. Since $N$ was arbitrary, we have our result.
      \begin{corollary1.1} 
        There is some limited $k \in \N$ such that $|a_{n+1}|<c|a_n|$ for all $n \geq k$.
      \end{corollary1.1}

      \begin{theorem2}
        Suppose that $\limsup_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}<1$ in $\R$. Then there is some $k$ such that for all $n \geq k$, we have $|a_{k+n}|<c^n |a_k|$, and hence $\sum_{k+m}^{k+n} |a_i| \leq \sum_{m}^n c^i |a_k|$.
      \end{theorem2}

      The existence of such a $k$ is guranteed by corollary 1.1, furthermore, it also implies $$|a_{k+n}|< c |a_{k+n-1}|<c^2 |a_{k+n-2}<\cdots < c^n |a_{k+n-n}|=c^n |a_k|.$$

      Thus, $|a_{k+n}|<c^n |a_k|$. It is easy to see that the last inequalitiy implies $$0< \sum_{k+m}^{k+n} |a_i| 
      \leq \left( \sum_{m}^n c^i \right) |a_k|.$$

      By an easy transfer we see that the last inequality also hold in hyperreals. However, by exercise VII, we know that $\sum_{m}^n c^i$ is infinitesimal for any unlimited $n$ and $m$ such that $n\geq m$ but that means $\sum_{k+m}^{k+n} |a_i|$ is infinitesimal for any unlimited $m$ and $n$. In particular, replacing $m$ by $m-k$ and $n$ by $n-k$, we get the following result. 
      
      \begin{corollary2.1}
        $\sum_{1}^\infty |a_i|$ is convergent, that is to say, $\sum_{1}^\infty a_i$ is absolutely convergent.
      \end{corollary2.1}
  \end{proof}

  \begin{exercise}
    (Section 6.11, IX) Ratio Test: divergence. \\
    Suppose that $$\liminf_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}>1$$
    in $\R$. Prove that the series $\sum_{1}^\infty a_i$ diverges.
  \end{exercise}
  \begin{proof}
    Before we get into the proof, notice that $a_i \not = 0$ for any $i \in \N$ since otherwise $\frac{|a_{i+1}|}{|a_i|}$ becomes undefined. Consider some unlimited $n$. Then we have $$1<\liminf_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|} \leq \frac{|a_{N+1}|}{|a_N|}, $$ 
    which implies $|a_{N+1}|>|a_N|$. We summarize it into a theorem. 
    \begin{theorem1}
      Suppose that $\liminf_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}>1$. Then $a_i \not =0$ for any $i \in \N$ and $|a_{N+1}|>|a_N|$ for any unlimited $N$. 
    \end{theorem1}
    Next we prove the following result. 
    \begin{theorem2}
      Suppose that $\liminf_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}>1$. Then there exists $k \in \N$ such that for all $m>n$, $|a_m|>|a_k$.
    \end{theorem2}
     In natural numbers, we know that for any $n,m \in \N$, there is some $p \in \N$ such that if $m>n$ then $m=n+p$. Therefore, by transfer, it is also true in hypernaturals. In particular, it holds for unlimited numbers. Let $m$ and $n$ be unlimited numbers such that $m>n$. Then, by theorem-1, it follows $$|a_m|=|a_{n+p}|>|a_{(n+p)-1}|>\cdots >|a_{n+1}|>|a_n|.$$
    Trasnfering $(\exists n \in \hyp \N)(\forall m \in \hyp \N)(m>n \arr |a_m|>|a_n|)$ back to $\N$, we have our result. \\

    By existential transfer, we have following corollary to be true. 
    \begin{corollary2.1}
      For all unlimited $n$, $|a_n|>|a_k|$.
    \end{corollary2.1}

    For the sake of contradiction, assume $\sum_{1}^\infty a_i$ is convergent. Therefore, for any unlimited $N$, we must have $\sum_{1}^{N+1} a_i - \sum_{1}^{N} a_i \simeq 0$ but then it implies $$0<|a_k|<|a_{N+1}|=\sum_{1}^{N+1} a_i - \sum_{1}^{N} a_i \simeq 0$$
    which means $0<|a_k| \leq 0$. A contradiction.
  \end{proof}

  \begin{exercise}
    (Section 6.11, X)
     Show that for any real number $x$, the hyperreal $x^n/n!$ is infinitesimal when $n$ is unlimited.
  \end{exercise}
  \begin{proof}
    Define $a_i=(x^i/i!)$. We will first prove that $\sum_{1}^\infty a_i$ is convergent which would easily get us $\sum_{n-1}^n a_i= \sum_{n-1}^n x^i/i!=x^n/n!$ to be infintisimal. For any unlimited $N$, we have $\frac{(x^{N+1}/(N+1)!)}{(x^N/N!)}=\frac{x}{N+1}$ which is clearly infinitesimal. It means that $\limsup_{i \arr \infty} \frac{|a_{i+1}|}{|a_i|}<1$. Threfore, by ratio test, it follows $\sum_{1}^{\infty} a_i$ is convergent. Hence, $\sum_{m}^n a_i$ is infinitesimal for any unlimited $m$ and $n$ such that $n \geq m$. In particular, setting $m=n-1$ gets us $\sum_{n-1}^n a_i= \sum_{n-1}^n x^i/i!=x^n/n!$ to be infinitesimal. 
  \end{proof}

  \begin{exercise}
    (Section 6.11, XI) Leibniz's alternating series test. \\
    Suppose $\la a_i: i \in \N \ra$ is a real sequence that is nonincreasing (i.e. $a_i \geq a_{i+1}$) and converges to $0$. Prove that the alternating series $$\sum_{1}^\infty (-1)^{i+1} a_i=a_1-a_2+a_3-a_4+\cdots $$ converges. 
  \end{exercise}
  \begin{proof}
    We first make the observation that all the terms in the sequence are positive since otherwise it would not be convergent to $0$. We are going to first prove $\left| \sum_{m}^n (-1)^{i+1} a_i \right| \leq |a_m|$ for $m,n \in \N$ from which our result easily follow using the transfer principle and shadow inequalitiy. 

    \begin{theorem1}
      Suppose $\la a_i: i \in \N \ra$ is a real sequence that is nonincreasing (i.e. $a_i \geq a_{i+1}$) and converges to $0$. Then for all $m,n \in \N$ such that $n\geq m$, we have $$\left| \sum_{m}^n (-1)^{i+1} a_i \right| \leq |a_m|$$ to be true.
    \end{theorem1}
    We divide the proof into  cases. \\
    First suppose $m$ is even. Then we have $$ \sum_{m}^n (-1)^{i+1} a_i=\sum_{\substack{m \leq i \leq n \\ i \text{ is even }}} (-a_i+a_{i+1})=\sum_{\substack{m \leq i \leq n-1  \\ i \text{ is even }}} (-a_i+a_{i+1})<0 <a_m$$ and $$-a_m<(a_n - a_m)+ \sum_{\substack{m+1 \leq i \leq n-1  \\ i \text{ is odd }}} (a_i-a_{i+1})=\sum_{m}^n (-1)^{i+1} a_i$$ when $n$ is odd because $a_n<a_m$ and $a_{i+1}<a_i$ for each $i$. In case of $n$ being even, consider $$\sum_{\substack{m \leq i \leq n-1  \\ i \text{ is even }}} (-a_i+a_{i+1})-a_n<\sum_{\substack{m \leq i \leq n-1  \\ i \text{ is even }}} (-a_i+a_{i+1})<0<a_m$$ and $$-a_m<- a_m+ \sum_{\substack{m+1 \leq i \leq n  \\ i \text{ is odd }}} (a_i-a_{i+1})=\sum_{m}^n (-1)^{i+1} a_i$$ \\
    Similarly, in case of $m$ being odd, we have $$-a_m<0< \sum_{\substack{m \leq i \leq n \\ i \text{ is odd}}} (a_i-a_{i+1}) =\sum_{m}^n (-1)^{i+1} a_i$$ and $$\sum_{m}^n (-1)^{i+1} a_i=a_m-a_n+\sum_{\substack{m-1 \leq i \leq n-1 \\ i \text{ is even }}} (-a_i+a_{i+1})<a_m$$ when $n$ is even. In case of $n$ being odd, consider $$-a_m<0<\sum_{\substack{m \leq i \leq n-1 \\ i \text{ is odd}}} (a_i-a_{i+1})<\sum_{\substack{m \leq i \leq n-1 \\ i \text{ is odd}}} (a_i-a_{i+1})+a_n=\sum_{m}^n (-1)^{i+1} a_i$$ and $$\sum_{m}^n (-1)^{i+1} a_i=a_m+\sum_{\substack{m-1 \leq i \leq n \\ i \text{ is even }}} (-a_i+a_{i+1})<a_m. $$ This concludes the proof of theorem 1. By an easy transfer, we know that theorem 1 also holds in hypernautrals. Therefore, $\sum_{m}^n (-1)^{i+1} a_i$ is infintisimal in case of unlimited $m$. Hence, by cauchy convergence theorem, it follows $\sum_{1}^\infty (-1)^{i+1} a_i$ converges.
  \end{proof}
\chapter{Continuous Functions} 

  \begin{exercise}
    (Section 7.4, I)
      Derive the following characterisations from standard definition of limits. \\
      (a) $\lim_{x \arr c^+} f(x)=L$ iff $f(x) \simeq L$ for all $x \in \hyp A$ with $x \simeq c$ and $x>c$. \\
      (b) $\lim_{x \arr c^-} f(x)=L$ iff $f(x) \simeq L$ for all $x \in \hyp A$ with $x<c$. \\
      (c) $\lim_{x \arr c} f(x)=L$ iff $f(x) \simeq L$ for all $x \in \hyp A$ with $x \simeq c$ and $x \not =0$. \\
      (d) $\lim_{x \arr c} f(x)=+ \infty$ iff $f(x) \in \hyp \R_\infty^+$ for all $x \in \hyp A$ with $x \simeq c$ and $x \not = c$. \\
      (e) $\lim_{x \arr c} f(x) = -\infty$ iff $f(x) \in \hyp \R_\infty^-$ for all $x \in \hyp A$ with $x \simeq c$ and $x \not =c$. \\
      (f) $\lim_{x \arr + \infty} f(x)=L$ iff $f(x) \simeq L$ for all positive unlimited $x \in \hyp A$ (and such $x$ exists). \\
      (g) $\lim_{x \arr - \infty} f(x)=L$ iff $f(x) \simeq L$ for all positive unlimited $x \in \hyp A$ (and such $x$ exists).
  \end{exercise}
  \begin{proof} $ $ \\
    (a) The definition of $\lim_{x \arr c^+} f(x)=L$ is 
    \begin{align*}
        (\forall \ep \in \R^+)(\exists \del \in \R^+ )(\forall x \in A)(c<x<c+\delta \arr |f(x)-L|<\ep) & & \text{(1)}
    \end{align*}
    First we prove the forward implication. Suppose (1) is true. Let $\ep \in \R^+$ be arbitrary. Then by (1) there is a positive $\del$ such that $$(\forall x \in A)(c<x<c+\delta \arr |f(x)-L|<\ep)$$ is true, and hence by universal transfer we have $$(\forall x \in \hyp A)(c<x<c+\delta \arr |f(x)-L|<\ep).$$ Now if $x \simeq c$ with $x>c$ then clearly $c<x<c+\del$ and so by last statement, $|f(x)-L|<\ep$. Since this holds for arbitrary $\ep \in \R^+$, it follows that $f(x) \simeq L$. Next we prove the converse implication. Suppose "$f(x) \simeq L$ for all $x \in \hyp A$ with $x \simeq c$ and $x>c$" is true. Let $\ep$ be a positive real. If $x \simeq c$ with $x>c$, there is a positive infinitismal $\del$ such that $x=c+\del$ but then it means $c<x<c+2\del$. Thus, by assumption, we have $f(x) \simeq L$ to be true. Replacing $2\del$ by existentially qunatified variable, this shows $$(\exists \del \in \hyp \R^+)(\forall x \in \hyp A)(c<x<c+\del \arr |f(x)-f(c)|<\ep)$$ is true. By existential transfer, we infer $$(\exists \del \in \R^+)(\forall x \in A)(c<x<c+\del \arr |f(x)-f(c)|<\ep)$$ which is enough to conclude (1). \\

    (b) Essentially the same arguement as (a). \\

    (c) The definition of $\lim_{x \arr c} f(x)=L$ is \begin{align*}
      (\forall \ep \in \R^+)(\exists \del \in \R^+)(\forall x \in A)(|x-c|<\del \arr |f(x)-L|<\ep) & & \text{(1)}
    \end{align*}
    First we prove the forward implication. Let $\ep \in \R^+$ be arbitrary. Then by (1), there exists positive real $\del$ such that $$(\forall x \in A)(|x-c|<\del \arr |f(x)-L|<\ep)$$ holds and thus, by universal transfer, $$(\forall x \in \hyp A)(|x-c|<\del \arr |f(x)-L|<\ep)$$ is also true. Now if $x \simeq c$ with $x \neq c$ then clearly $|x-c|<\del$ and so $|f(x)-L|<\ep$. Since this holds for arbitrary $\ep$, we have $f(x) \simeq L$. Next we prove the converse implication. Suppose that "$f(x)\simeq L$ for all $x \in \hyp A$ with $x \simeq c$ and $x \neq c$" is true. Let $\ep \in \R^+$ be arbitrary. If $\del$ is an infinitesimal and $|x-c|<\del$ then clearly $x \simeq c$ with $x \neq c$. By our assumption, it implies $f(x) \simeq L$, and consequently $|f(x)-L|<\ep$. Replacing $\del$ by existentially quantified variable, we have $$(\exists \del \in \hyp \R^+)(|x-c|<\del \arr |f(x)-L|<\del)$$ to be true, and so by existential transfer, $$(\exists \del \in \R^+)(|x-c|<\del \arr |f(x)-L|<\ep)$$ is also true, which is enough to conclude (1).

    (d) Recall that the definition of $\lim_{x \arr c} f(x) = + \infty$ is 
    \begin{align*}
      (\forall M \in \R^+)(\exists \del \in \R^+)(\forall x \in A)(0<|x-c|<\del \arr f(x)>M) & & \text{(1)}
    \end{align*}
    First we prove the forward implication. Suppose (1) is true. Let $M \in \R^+$ be arbitrary. Then by (1), there is a positive $\del$ such that $$(\forall x \in A)(0<|x-c|<\del \arr f(x)>M)$$ is true, and hence by universal transfer, we have $$(\forall x \in \hyp A)(0<|x-c|< \del \arr f(x)>M).$$ Now if $x \simeq c$ with $x \not = c$, then clearly $0<|x-c|<\del$. Therefore, we have $f(x)>M$. Since this holds for arbitrary $x$ and $M$, we have the desired result. Next we prove the converse implication. Suppose "$f(x) \in \R_\infty^+$ for all $x \in \hyp A$ with $x \simeq c$ and $x \not =c$" is true. Let $M$ be an arbitrary positive real. If $\del$ is any positive infinitisimal, then for any $x \in \hyp A$, if $0<|x-c|<\del$, we have $x \simeq c$ and $x \not = c$. Hence, $f(x) \in \hyp \R_\infty^+$ by our assumption, and so $f(x)>M$. Replacing $\del$ by existentially qunatified variable, this shows that the sentence $$(\exists \del \in \hyp \R^+)(\forall x \in \hyp A)(0<|x-c|<\del \arr f(x)>M)$$ is true. By existential transfer, we then infer $$(\exists \del \in \R^+)(\forall x \in A)(0<|x-c|<\del \arr f(x)>M)$$ and finally since $M$ was arbitrary, we conclude (1). 

    (e) Essentially the same arguement as (d).

    (f) Recall that the definition of $\lim_{x \arr + \infty} f(x)=L$ is \begin{align*}
    (\forall \ep \in \R^+)(\exists \del \in \R^+)(\forall x \in A)(x>\del \arr |f(x)-L|<\ep) & & \text{(1)} 
    \end{align*}
    First we prove the forward implication. Suppose (1) is true. Let $\ep \in \R^+$ be arbitrary. Then by (1), there is a positive real $\delta$ such that $$(\forall x \in A)(x>\del \arr |f(x)-L|<\ep)$$ is true, and hence by universal transfer, we have $$(\forall x \in \hyp A)(x>\del \arr |f(x)-L|<\ep)$$ to be true. Now if there exists a positive unlimited $x \in \hyp A$, clearly $x>\del$ but then by our assumption we have $|f(x)-L|<\ep$. Since this holds for arbitrary real $\ep$, it must be the case that $f(x) \simeq L$. Next we prove the converse implication. Suppose $f(x) \simeq L$ for all positive unlimited $x \in \hyp A$ and such $x$ exists. Let $\ep \in \R^+$ be arbitrary. If $\del$ is any positive unlimited number, then for any $x \in \hyp A$, if $x>\del$ then $f(x) \simeq L$ by our assumption. Replacing $\del$ by existentially qunatified variable, this shows that the sentence $$(\exists \del \in \hyp \R^+) (\forall x \in \hyp A)(x>\del \arr |f(x)-L|<\ep)$$ is true, and thus by existential transfer, so is $$(\exists \del \in \R^+)(\forall x \in A)(x>\del \arr |f(x)-L|<\ep).$$ Since $\ep $ was arbitrary, we conclude (1).

    (g) Essentially the same arguement as (f).
  \end{proof}
  
  \begin{exercise}
    (Section 7.4, II) Prove the following standard results. \\
    (a) $\lim_{x \arr c} f(x)=L$ iff $\lim_{x \arr c^+} f(x)=L$ and $\lim_{x \arr c^-} f(x)=L$. \\
    (b) $f$ is continuous at $c$ iff $\lim_{x \arr c} f(x)=f(c)$. \\
    (c) if $\lim_{x \arr c} f(x)$ and $\lim_{x \arr c} g(x)$ exists, then \\
    (i) $\lim [f(x)+g(x)]= \lim f(x)+\lim g(x)$ \\
    (ii) $\lim [f(x) g(x)]= \lim f(x) \cdot \lim g(x)$ \\
    (iii) $\lim [f(x)/g(x)]=\lim f(x)/\lim g(x)$, if $\lim g(x) \not = 0$.
  \end{exercise}
  \begin{proof} $ $ \\
    (a) If $\lim_{x \arr c} f(x)=L$ then we must have $f(x) \simeq L$ for all $x \in A$ such that $x \simeq c$ and $x\not =c$. By universal transfer, law of trichotomy holds in hypereals, and so we have $x<c$ and $x>c$. This observation implies the desired result. Conversely if we have $\lim_{x \arr c^+} f(x)=L$ and $\lim_{x \arr c^-} f(x)=L$ then $f(x) \simeq L$ for any $x \simeq c$ such that $x>c$ and $x<c$ which, again by law of trichotomy, means $x \not =c$. This is enough to conclude $\lim_{x \arr c} f(x)=L$. \\
    (b) Trivial by the definition. \\
    (c) Suppose $x \simeq c$ with $x \not = c$. Then $f(x) \simeq \lim f(x)$ and $g(x) \simeq \lim g(x)$. Then \\
    (i) $f(x)+g(x) \simeq \lim f(x) + \lim g(x)$. \\
    (ii) $f(x) g(x) \simeq \lim f(x) \cdot \lim g(x)$. \\
    (iii) Suppose further $\lim g(x) \not = 0$, then clearly $f(x)/g(x) = \lim f(x)/\lim g(x)$.
  \end{proof}

  \begin{exercise}
    (Section 7.4, III)
    Use infintisimal to discuss continuity of the following functions. \\
    (a) $f_1(x)=\begin{cases}
      \sin \frac{1}{x} & \text{ if } x \not =0 \\
      0 & \text{ if } x=0
        \end{cases}$ \\
    (b) $f_2 (x)= \begin{cases}
      x\sin \frac{1}{x} & \text{if } x \not = 0 \\
      0 & \text{if } x=0
    \end{cases}$ \\
    (c) $f_3(x)= \begin{cases}
      1 & \text{ if $x$ is rational }   \\
      0 & \text{ if $x$ is rational }
    \end{cases}.$ \\

    (d) $f_4(x)= \begin{cases}
      x & \text{ if $x$ is rational }   \\
      -x & \text{ if $x$ is rational }
    \end{cases}.$

    (e) $f_5(x)= \begin{cases}
      0 & \text{ if $x$ is irrational }   \\
      \frac{1}{n} & \text{ if $x=\frac{m}{n} \in \Q$ in simplest form with $n\geq 1$ }
    \end{cases}.$
  \end{exercise}
  \begin{proof} $ $ \\
    (a) By uinversal transfer on $$(\forall n \in \N)\left(\sin \left((2n+1)\cdot \frac{\pi}{2}\right)=1 \text{ or } \sin \left((2n+1)\cdot \frac{\pi}{2}\right)=-1\right)$$ we have $$(\forall n \in \hyp \N)\left(\sin \left((2n+1)\cdot \frac{\pi}{2}\right)=1 \text{ or } \sin \left((2n+1)\cdot \frac{\pi}{2}\right)=-1\right)$$ to be true. However, since it means that there is an infintisimal, $x=\frac{1}{\frac{2}{(2n+1)\pi}}$, such that $f(x) \not =0$, it follows $f$ have discontinuity at $0$. \\

    (b) $\sin 1/x$ is continuous at all points except $0$. However, in case of $x \sin 1/x$, if $x>0$ and $x \simeq 0$, clearly $x \sin 1/x \simeq 0$. If $x<0$ and $x \simeq 0$, again we get $x \sin 1/x \simeq 0$. Therefore, we have $\lim_{x \arr 0} x \sin 1/x=0=f_2(0)$. \\

    (c) It is discontinous everywhere. By universal transfer of density of rationals in $\R$, we know $(\forall x,y \in \hyp \R)(x<y \arr (\exists q \in \hyp Q)(x<q<y))$ holds. Thus, we know there exists a hyperrational $q$ between $r$ and $r+\ep$, where $\ep$ is some infintisimal and $r$ is an irrational. Thus, $q \simeq r$. However, $1=f(q) \not \simeq f(r)=0$. Similarly, since each open interval $(a,b)$, where $a,b \in Q$, contain irrational. We have some irrational infinite close to each rational number. This implies that $f$ is discontinous on rational as well as irrational, and so all of reals.  \\

    (d) For any non zero $x$, we clearly have the function to be discontinous at $x$ following the line of arguement of part (c). However, the case $x=0$ is interesting. For any irrational, $\ep$, infinitely close to $0$, we have $f(\ep)=-\ep \simeq 0 = f(0)$. Therefore, $f$ is continuous at $0$. \\

    (e) The function is continous at irrational and discontinous at rationals. First we prove it is discontinous at rational points. Let $q \in \Q$. Assume further $q=\frac{m}{n}$ in its lowest form with $n \geq 1$. However since $n$ is a finite number, $\frac{1}{n}$ can never be infinitely close to $0$. Thus, $f(q) \not \simeq f(r)$ for any irrational $r$ infinitely close to $q$. Now we prove that $f$ is continous at irrational. Take any irrational $r$ and consider some hyperrational $q$ infinitely close to it. Assume further that $q=\frac{m}{n}$ in its lowest form and $n\geq 1$. Multiplying by $n$, we get $m \simeq rn$. It means $\sh(m-rn) \simeq 0$ but that would imply $m=rn$ since $m,n,r \in \R$. This is a contradiction. Thus, there is no $q$ infinitely close to $r$ which satisfy the given property and thus the function is vacously continous.
  \end{proof}

  \begin{exercise}
    (Section 7.8, I)
    Explain why the argument just given fails for intervals $(a,b), (a, b], (a,+\infty)$, $(-\infty, b)$, etc that are not closed.
  \end{exercise}
  \begin{proof}
    In case of (semi)bounded open intervals, it fails because we can have a situation where $\sh(x) \notin (a,b]$ for some $x \in (a,b]$. Whereas in case of unbounded sequence, it fails because unlimited numbers do not have shadows.
  \end{proof}

  \begin{exercise}
    (Section 7.8, II)
    Show that $f(x)=\frac{1}{x}$ is not uniformly continuous on $(0,1)$.
  \end{exercise}
  \begin{proof}
    Consider two positive infinitisimals $\ep$ and $\ep^2$. Clearly, $\ep \simeq \sh(\ep)=0=\sh(\ep^2) \simeq \ep^2$ but $f(\ep)=\frac{1}{\ep} \not = \frac{1}{\ep^2}=f(\ep^2)$. 
  \end{proof}

  \begin{exercise}
    (Section 7.8, III)
    If $f$ is uniformly continuous on $\R$ and $\la s_n: n \in \N \ra$ is a cauchy sequence, show that $\la f(s_n): n \in \N \ra$ is a cauchy sequence.
  \end{exercise}
  \begin{proof}
    Consider some arbitrary unlimited hypernaturals $M$ and $N$. Since $\la s_n \ra$ is cauchy, we have $s_N \simeq s_M$, however, uniform continuity of $f$ further implies $f(s_N) \simeq f(s_M)$. This means $\la f(s_n) \ra$ is cauchy. 
  \end{proof}

  \begin{exercise}
    (Section 7.8, IV)
    Let the real function $f$ be monotonic on $[a,b]$ and suppose that for all real $r$ between $f(a)$ and $f(b)$ there exists a real $c \in [a,b]$ such that $f(c)=r$. Prove that $f$ is continuous on $[a,b]$.
  \end{exercise}
  \begin{proof}
    Lets beging by assuming, without loss of generality, $f$ is an increasing function. For the sake of contradiction suppose $f$ is not continuous on $[a,b]$. This implies that there is some real $x$ such that for some $y$ infinitely close to it, we have $f(x) \not \simeq f(y)$. Assume further $x<y$ and consider some real $c$ between $f(x)$ and $\sh(f(y))$. By the intermidiate value property, it follows there is some $d \in [a,b]$ such that $f(d)=c$. Since $f$ is monotonic, we must have $x<d<y$. This implies $x \simeq d$. However, this is not possible since $x$ and $d$ are both unequal real numbers.
  \end{proof}

  \begin{exercise}
    (Section 7.11, I)
      If $f$ is a real function and $c \in \R$, verify in detail that $f(x)$ is defined for all $x \simeq c$ if and only if $f(x)$ is defined for all real $x$ in some open interval $(c-\ep, c+\ep)$ with real radius $\ep>0$.
  \end{exercise}
  \begin{proof}
    We first prove the forward implication. Suppose $f(x)$ is defined for all $x \simeq c$. If $\ep$ is a positive infintisimal, then clearly $f(x)$ is defined for all $|x-c|<\ep$. This means that $$(\exists \ep \in \hyp \R^+)(\forall x \in \hyp \R)(|x-c|<\ep \arr f(x) \text{ is defined at } x)$$ holds true in $\hyp \R$ and so by existential transfer, $$(\exists \ep \in \R^+)(\forall x \in \R)(|x-c|<\ep\arr f(x) \text{ is defined at } x)$$ is true in $\R$. We proceed with the converse implication. Suppose $f(x)$ is defined for all real $x$ in some open interval $(c-\ep, c+\ep)$ with $\ep>0$. That means $$(\exists \ep \in \R^+)(\forall x \in \R)(|x-c|<\ep \arr f(x) \text{ is defined at } x) $$ is true in $\R$ and so by universal transfer, $$(\exists \ep \in \hyp \R^+)(\forall x \in \hyp \R)(|x-c|<\ep \arr f(x) \text{ is defined at } x) $$ holds in $\hyp \R$. In particular, this implies that $f(x)$ is defined for all $x$ infintely close to $c$.
  \end{proof}

  \begin{exercise}
    (Section 7.11, II)
    Let $f$ be a real function that is defined on some open neighbourhood of $c \in \R$. Show that if $f$ is constant on $\hal(c)$, then it is constant on some interval $(c-\ep, c+\ep) \subseteq \R$.
  \end{exercise}
  \begin{proof}
    Suppose $f$ is constant on $\hal(c)$. This means that for any infinitesimal $\ep$, $|x-c|<\ep$ implies $f(x)$ is constant. Thus, $$(\exists \ep \in \hyp \R^+)(\forall x \in \hyp \R)(|x-c|<\ep \arr f(x) \text{ is constant})$$ holds in $\hyp \R$ and so by existential transfer, $$(\exists \ep \in \R^+)(\forall x \in \R)(|x-c<\ep \arr f(x) \text{ is constant})$$ holds in $\R$. This means that there is some open neighbourhood of $c$ in $\R$ where $f$ is constant.
  \end{proof}

\chapter{Differentiation}

  \begin{exercise}
    (Section 8.1, I)
    Prove that derivative of $\sin x$ is $\cos x$ at real $x$.
  \end{exercise}
  \begin{proof}
    Let $\ep$ be an infinitesimal. Then we have 
    \begin{align*}
      \frac{\sin(x+\ep)-\sin x}{\ep} &= \frac{\sin x \cos \ep +\cos x \sin \ep - \sin x}{ \ep} \\
      &= \frac{\sin x(\cos \ep -1)+\cos x \sin \ep}{ \ep} \\
      &= \sin x \cdot \frac{\cos \ep -1}{\ep} +  \cos x \cdot \frac{\sin \ep }{ \ep} \\
      &\simeq \sin x \cdot 0 + \cos x \cdot 1 \\
      &=\cos x.
    \end{align*}
  \end{proof}

  \begin{exercise}
    (Section 8.2)
    If $f$ and $g$ are differentiable at $x \in \R$. Then \\
    (a) $f+g$ is differentiable and $(f+g)^\p (x)=f^\p(x)+g^\p (x)$. \\
    (b) If $g \not = 0$ then $f/g$ is differentiable and $(f/g)^\p = \frac{f^\p(x)g(x)-f(x)g^\p (x)}{g(x)^2}$.
  \end{exercise}
  \begin{proof}
    (a) Let $\Del x$ be a non zero infinitesimal. Then we must have $f(x+\Del x)$ and $g(x+\Del x)$ to be defined because they are differentiable. So, $(f+g)(x+\Del x)=f(x+\Del)+g(x+\Del x)$. Thus, increment of $f+g$ at $x$ corresponding to $\Delta x$ is 
      \begin{align*}
      \Delta (f+g) &= (f+g)(x+\Del xl) - (f+g)(x) \\
      &= f(x+\Del x) + g(x+\Del x) - f(x) -g(x) \\
      &=(f(x)+\Del f)+(g(x)+\Del g) - f(x) -g(x) \\
      &=\Del f + \Del g.
      \end{align*}
      It follows that 
      \begin{align*}
      \frac{\Del (f+g)}{\Del x} &= \frac{\Del f}{ \Del x} + \frac{\Del g}{\Del x} \\
      &\simeq f^\p (x) +g^\p (x).
      \end{align*}
      Hence, by theorem 8.11, $(f+g)^\p (x) = f^\p(x)+g^\p (x)$. \\
      
    (b) Suppose $g \not =0$. Consider some non zero infinitesimal $\Del x$. Then we must have $f(x +\Del x)$ and $g(x + \Del x)$ to be    defined because they are differentiable. Also, we have $(f/g)(x+\Delta x)=f(x+\Delta x)/g(x + \Delta x)$. Thus, increment of $f/g$ at $x$ corresponding to $\Delta x$ is 
      \begin{align*}
      \Delta (f/g) &= (f/g)(x+\Delta x) - (f/g)(x) \\
      &= \frac{f(x+\Delta x)}{g(x+ \Delta x)} -\frac{f(x)}{g(x)} \\
      &= \frac{f(x) + \Delta f}{g(x) +\Delta g} - \frac{f(x)}{g(x)} \\
      &= \frac{(f(x) + \Delta f)g(x) -f(x) (g(x) +\Delta g)}{g(x)(g(x)+\Delta g)} \\
      &= \frac{\Delta f g(x) - f(x) \Delta g}{g(x)^2 + g(x) \Delta g }.
      \end{align*}
      It follows that 
      \begin{align*}
      \Del f / \Del x &= \frac{1}{\Del x} \cdot \frac{\Delta f g(x) - f(x) \Delta g}{g(x)^2 + g(x) \Delta g } \\
      &= \frac{f^\p (x) g(x) - f(x) g^\p (x)}{g(x)^2+g(x) \Delta g} \\
      & \simeq \frac{f^\p (x) g(x) - f(x) g^\p (x)}{g(x)^2} 
      \end{align*}
      because the fraction is finite and $\Delta g$ is infinitesimal.
      \end{proof}

    \begin{exercise}
      (Section 8.5, I).
      Prove Rolle theorem. That is Suppose $f$ is continuous at $[a,b]$ and differentiable at $(a,b)$. Then if $f(a)=f(b)=0$, then $f^\p(x)=0$ for some $x \in (a,b)$.
    \end{exercise}
    \begin{proof}
      Firstly, notice that if $f$ acheives maxima at one of $a$ and $b$ and minima at the other, then clearly proposition is true because $f^\p (x)=0$ for all $x \in (a,b)$. In any other case, we would either have minima or maxima for some $ x \in (a,b)$ by extreme value theorem, and so by critical point theorem $f^\p (x)=0$.
    \end{proof}

    \begin{exercise}
      (Section 8.5, II). Prove mean value theorem. That is for some $x \in (a,b)$, $$f^\p (x)=\frac{f(b)-f(a)}{b-a}.$$
    \end{exercise}
    \begin{proof}
      Consider the function $h(x)=(f(b)-f(a))x-(b-a)f(x)$. Clearly, $h(b)=0=h(a)$. So by rolle theoerm, we know there is some $x\in (a,b)$ for which $(f(b)-f(a))-(b-a)f^\p(x)=h^\p(x)=0$. This implies $f^\p(x)=\frac{f(b)-f(a)}{b-a}$.
    \end{proof}

    \begin{exercise}
      (Section 8.5, III).
      If $f^\p$ is zero/positive/negative on $(a,b)$ then $f$ is constant/increasing/decreasing on $[a,b]$.
    \end{exercise}
    \begin{proof}
      For $f^\p$ being zero on $(a,b)$. Consider some $c,d \in (a,b)$ such that $f(c) \not =f(d)$. Then by mean value theorem, we know there is some $x \in (c,d) \subseteq (a,b)$ with the property $f^\p(x) = \frac{f(d)-f(c)}{d-c} \not =0$. Hence, $f(c)=f(d)$ for any $c,d \in (a,b)$. In case derivative is positive on $(a,b)$, the function must be increasing clearly, otherwise we can argue in same sense as that of $f^\p$ being $0$ to argue that there is some $x$ for which $f^\p(x)$ is negative. We can prove for $f^\p$ being negative on $(a,b)$ implies $f$ is decreasing similarly.
    \end{proof}

    \begin{exercise}
      (Section 8.8, I)
      Show that if $f$ is smooth at $(a,b)$, then it is continuous at $(a,b)$.
    \end{exercise}
    \begin{proof}
      Trivial by increment equation.
    \end{proof}

    \begin{exercise}
      (Section 8.8, II)
      Let $f$ be smooth at $(a,b)$. Given infinitesimal $\Delta x$, $\Delta y$ show that the difference between $\Delta f$ and $df$ is itself infinitely smaller than the infinitesimal distance $\Del l=\sqrt{\Del x^2+\Del y^2}$ between $(a,b)$ and $(a+\Del x, b+ \Del y)$, in  the sense that $$\frac{\Del f-df}{\Del l} \simeq 0.$$
    \end{exercise}
    \begin{proof}
      Since $f$ is smooth, we have $\Del f -df=\ep \Del x + \del \Del y$ for some infinitesimal $\ep$ and $\del$. Thus, 
      \begin{align*}
        \frac{\Del f -df}{\Del l} &= \frac{\ep \Del x+\del \Del y}{\sqrt{\Del x^2+\Del y^2}} \\
        &=\ep \cdot \frac{\Del x}{\sqrt{\Del x^2 + \Del y^2}}+ \del \cdot \frac{\Del y}{\sqrt{\Del x^2 + \Del y^2}} \\
        &= \ep \cdot \frac{1}{\sqrt{1 + (\Del y^2/\Del x^2)}}+ \del \cdot \frac{1}{\sqrt{(\Del x^2/\Del y^2) + 1}}
      \end{align*}
      Which is clearly infinitesimal.
    \end{proof}

    \begin{exercise}
      (Section 8.9, I)
      Verify that the Maclaurin series for $e^x$ converges to $e^x$ at any $x \in \R$ by proving that the remainder $R_n(x)$ is infintisimal when $n$ is unlimited.
    \end{exercise}
    \begin{proof}
      Let $x \in \R$. Applying transfer on lagrange form of the remainder, we see that $$(\forall n \in \hyp \N)\left(\exists c \in \hyp \R \right)(R_n(x)=\frac{e^{n+1}(c)}{(n+1)!} \cdot x^{n+1})$$ holds in $\hyp \R$ where $0<c<x$. Since $e^{n+1}(c)=e^c$, we have $e^{n+1}(c)$ to be finite while $\frac{x^{n+1}}{(n+1)!}$ to be infinitesimal for unlimited $n$. This implies $R_n(x)$ is infinitesimal.
    \end{proof}

    \begin{exercise}
      (Section 8.10, I)
      There are forms for the taylor remainder other than Lagrange's. One of these is $$R_n(x)=\frac{f^{(n)}(c)-f^{(n)}(a)}{(c-a)(n+1)!} \cdot (x-a)^{n+1}$$ for some $c$ between $a$ and $x$ when $f^{(n+1)}$ exists between $a$ and $x$. Prove the n-th order increment equation without using the hypothesis of continuity of $f^{(n)}$.
    \end{exercise}
    \begin{proof}
      Applying transfer principle, we see there must exits some $c \in \hyp \R$ between $a$ and $x$ so that for any natural $n$, 
      \begin{align*}
        R_n(x)=\frac{f^{(n)}(c)-f^{(n)}(a)}{(c-a)(n+1)!} \cdot (x-a)^{n+1} \tag{1}
      \end{align*} 
      This implies, for any infinitesimal $\Del x$, there is some $c \in \hyp \R$ with $x<c<x+\Del x$ so that (1) holds. Consequently, we have
      \begin{align*}
        f(x+\Del x) &= p_{n-1}(x+\Del x)+R_{n-1}(x+\Del x) \\
        &=\sum_{k=0}^{n-1} \frac{f^{(k)}(x)}{k!}(\Del x)^k + \frac{f^{(n-1)}(c)-f^{(n-1)}(a)}{(c-x)n!} \cdot (\Del x)^{n} \\
        &=\sum_{k=0}^n \frac{f^{(k)}(x)}{k!}(\Del x)^k +\frac{(\Del x)^k}{n!} \cdot \left(\frac{f^{(n-1)}(x)-f^{n-1}(c)}{x-c} - f^n(x) \right) 
      \end{align*}
      where we know the latter term is infinitesimal because the derivative $f^{(n)}(x)$ is infinitely close to $\frac{f^{(n-1)}(x)-f^{n-1}(c)}{x-c}$ given $x \simeq c$. Hence, letting $\ep=\frac{1}{n!} \cdot \left(\frac{f^{(n-1)}(x)-f^{n-1}(c)}{x-c} - f^n(x) \right) $, the desired result follows.
    \end{proof}

    \begin{exercise}
      (Section 8,12, I)
      Let $f$ be differentiable and have $f^\p$ continous on $(a,b) \subseteq \R$. Let $x$ be well inside $\hyp (a,b)$ and $\Del x \simeq 0$. Show that the incremental equation holds for any hyperreal well inside $\hyp (a,b)$, that is, $f(x+\Del x)=f(x)+f^\p(x) \Del x+\ep \Del x$.
    \end{exercise}
    \begin{proof}
      We claim the following result is true. 
      \begin{theorem1}
        Let $f$ be differentiable and $f^\p$ be continuous on $(a,b)$. Then for any hyperreal $x$ well inside $\hyp (a,b)$ and $\Del x \simeq 0$, we have $$f^\p(x)=\frac{f(x+\Del x)-f(x)}{\Del}.$$
      \end{theorem1}
      Before we discuss the proof of it, we see that if the theorem-1 is true then the desired result easily follow because we would have $f^\p(x)+\ep=\frac{f(x+\Del x)-f(x)}{\Del}$, multiplying which by $\Del x$ and rearranging proves the incremental equation. \\

      We begin the proof by noticing that if $f$ is differentiable on $(a,b)$ then so it is on $(\sh (x), \sh(x)+\Del x)$. Similarly, $f^\p$ is also continuous on $(\sh (x), \sh(x)+\Del x)$. Applying the transfered mean value theorem on $f$ and the interval $(\sh (x), \sh(x)+\Del x)$, we see that $$f^\p(y)=\frac{f(\sh(x)+\Del x)-f(\sh(x))}{\Del x}$$ holds for some $y \in (\sh (x), \sh(x)+\Del x)$. However, since $f$ and $f^\p$ are continuous on $(a,b)$ along with $y \simeq x$ and $\sh(x) \simeq x$, we have 
      $$f^\p(x) \simeq f^\p(y)= \frac{f(\sh(x)+\Del x)-f(\sh(x))}{\Del x} \simeq \frac{f(x+\Del x)-f(x)}{\Del x}$$ to be true. This concludes the proof of theorem-1. Hence, the following corollary holds. 
      \begin{corollary1.1}
        If $f$ is differentiable and $f^\p$ be continuous on $(a,b)$ then $f(x+\Del x)=f(x)+f^\p(x) \Del x+\ep \Del x$.
      \end{corollary1.1}
    \end{proof}

    \begin{exercise}
      (Section  8.12, II)
      Let $$f(x) = \begin{cases}
        x^2 \sin\frac{1}{x} & \text{ if } x \not =0 \\
        0 & \text{ if } x=0.
      \end{cases}$$
      (a) Prove that $f^\p$ exists at $0$ by is not continous there. \\
      (b) Let $x=1/(2\pi N)$ with $N$ unlimited. Show that there is an infinitesimal $\Del x$ such that incremental equation fails for any $\ep \simeq 0$ at $f(x+\Del x)$.
    \end{exercise}

    \begin{proof} $ $ \\
      (a) We start by noticing that for any infinitesimal $\ep$, 
      \begin{align*}
        \frac{f(\ep)-f(0)}{\ep} &=\frac{\ep^2 \sin (1/\ep)}{\ep}  \\
        &= \ep \cdot sin(1/\ep)
      \end{align*}
      Which is clearly infinitesimal because $\sin(1/\ep)$ is limited. However, $f^\p$ is not continous at $x=0$. To see that consider the infinitesimal $\ep=1/(2 \pi N)$ where $N$ is unlimited natural. Since $f^\p(x)=2x \cdot \sin 1/x - \cos 1/x$ when $x\not =0$, we have 
      \begin{align*}
        f^\p (\ep) &= 2\ep \cdot \sin \frac{1}{\ep}-\cos \frac{1}{\ep} \\
        &=2 \frac{1}{2 \pi N} \cdot \sin \frac{1}{1/(2 \pi N)} - \cos \frac{1}{1/(2 \pi N)} \\
        &=2 \frac{1}{2\pi N} \cdot \sin 2 \pi N - \cos 2 \pi N \\
        &= 0-\cos 2 \pi N \\
        &=-\cos (2\pi N) \\
        &=-1 \\
        &\not \simeq 0 \\
        &=f^\p(0)
      \end{align*}
      Therefore, we have $0 \simeq \ep$ but $f^\p(0) \not \simeq f^\p(\ep)$ proving that $f^\p$ is not continuous at $x=0$. \\

      (b) Let $N$ be unlimited natural and $x=1/(2 \pi N)$. Consider $\Del x=-1/(2 \pi N)$ and any infinitesimal $\ep$. Then we have
      \begin{align*}
        f(x)+f^\p (x) \Del x+\ep \Del x &=\left(\frac{1}{2 \pi N}\right)^2 \cdot \sin \frac{1}{1/(2 \pi N)}-\cos (2 \pi N) \Del x + \ep \Del x \\
        &=0+\Del x (-\cos (2\pi N)+\ep) \\
        &=\Del x (\ep -1) \\
        & \not = 0 \\
        &=f(x+\Del x)
      \end{align*}
    \end{proof}

\chapter{The Riemann Integral}
    \begin{exercise}
      (Section 9.1, I). Monotonic Functions. \\
      Prove that theorem 9.1.1 holds for monotonic function as well. That is if $f$ is monotonic on $[a,b]$ then for any positive infinitesimal $\Del x$, $L_a^b (f, \Del x) \simeq U_a^b (f, \Del x)$.
    \end{exercise}
    \begin{proof}
      Without loss of generality assume $f$ is non decreasing function. We begin our proof by observing that for any $\Del x \in \R^+$, we have 
      \begin{align*}
        U_a^b (f, \Del x)-L_a^b (f, \Del x) &= \sum_{i=1}^n M_i \Del x_i-\sum_{i=1}^n m_i \Del x_i \\
        &= \sum_{i=1}^n (M_i-m_i) \Del x_i \\
        &= \sum_{i=1}^n (M_i-m_i) \Del x &\text{(the partitions have equal width)} \\
        &= (f(b)-f(a)) \Del x+\sum_{i=1}^n (M_i-m_{i+1}) \Del x & \text{($f$ is non-decreasing)} \\
        &\leq (f(b)-f(a)) \Del x. & \text{(summation is non positive since $M_i \leq m_{i+1}$)}
      \end{align*}
      By transfer, we know it holds in $\hyp \R$, that is, for any $\Del x \in \hyp \R$, $U_a^b-L_a^b \leq (f(b)-f(a)) \Del x$ must be true. In particular if $\Del x$ is any positive infinitesimal, $U_a^b \simeq L_a^b$.
    \end{proof}

    \begin{exercise}
      (Section 9.2, I) 
      For each (standard) $n \in \N$, let $U_a^b (f,n), L_a^b (f,n), S_a^b (f,n)$ be the upper, lower, and ordinary reimann sums for the partition determined by the number $\Del x=\frac{b-a}{n}$. Prove that if $n \in \hyp \N$ is unlimited, then $$L_a^b (f,n) \simeq S_a^b (f,n) \simeq U_a^b (f,n).$$ Show how the definition and proof of existence for the reiemann integral could be developed just using these functions of (hyper)natural numbers.
    \end{exercise}
    \begin{proof}
      Since $\Del x=\frac{b-a}{n}$ is infinitesimal for unlimited $n$, we can directly apply theorem 9.2.1 to conclude $L_a^b (f,n) \simeq U_a^b (f,n)$ and consequently, $L_a^b (f,n) \simeq S_a^b (f,n) \simeq U_a^b (f,n)$ by the transfer of the inequality $L_a^b (f,P) \leq S_a^b (f,P) \leq U_a^b (f, P)$. Furthermore, because $\Del x$ is infinitesimal, we can Essentially use the same arguement to define and justify existence of riemann integrals.
    \end{proof}

    \begin{exercise}
      (9.3, I)
      Derove proofs for the other properties of the integral listed above. That is \\
      (a) $\int_a^b c f(x) dx= c \int_a^b f(x) dx$. \\
      (b) $\int_a^b f(x)+g(x) dx= \int_a^b f(x) dx + \int_a^b g(x) dx$. \\
      (c) $\int_a^b f(x) dx \leq \int_a^b g(x) dx$ if $f(x) \leq g(x)$ on $[a,b]$. \\
      (d) $m(b-a) \leq \int_a^b f(x) dx \leq M (b-a)$ if $m \leq f(x) \leq M$ on $[a,b]$.
    \end{exercise}
    \begin{proof} $ $ \\
      (a) For any $\Del x \in \R$, we have 
        \begin{align*}
          S_a^b (cf, \Del x) &= \sum_{i=1}^n cf(x_{i-1}) \cdot \Del x \\
          &=c \cdot \sum_{i=1}^n f(x_{i-1}) \Del x \\
          &= c \cdot S_a^b (f,\Del x).
        \end{align*}
        By transfer, it also holds in $\hyp R$. In particular, if $\Del x$ is any infinitesimal, 
        \begin{align*}
          \int_a^b cf(x)dx &= \sh \left( S_a^b (cf, \Del x)\right) \\
          &\simeq S_a^b (cf, \Del x) \\
          &= c \cdot S_a^b (f, \Del x) \\
          &\simeq c \cdot \sh \left( S_a^b (f, \Del x)\right) \\
          &=c \cdot \int_a^b f(x) dx.
        \end{align*}
         Thus, $\int_a^b cf(x)dx \simeq c \cdot \int_a^b f(x) dx$. However, we must have $\int_a^b cf(x)dx = c \cdot \int_a^b f(x) dx$ because they both are real. This concludes the proof.  \\

      (b) For any $\Del x \in \R$, the following holds. 
        \begin{align*}
          S_a^b (f+g, \Del x) &= \sum_{i=1}^n (f+g)(x_{i-1}) \cdot \Del x \\
          &=\sum_{i=1}^n f(x_{i-1}) \cdot \Del x + \sum_{i=1}^n g(x_{i-1}) \cdot \Del x \\
          &= S_a^b (f, \Del x) + S_a^b (g, \Del x).
        \end{align*}
        Thus, by transfer, it also holds in $\hyp \R$. If $\Del x$ is any infinitesimal, we have 
        \begin{align*}
          \int_a^b f(x)+g(x) dx &= \sh(S_a^b (f+g, \Del x)) \\
          &\simeq S_a^b(f+g, \Del x) \\
          &=S_a^b (f, \Del x) + S_a^b (g, \Del x) \\
          &\simeq \sh(S_a^b (f, \Del x) + S_a^b (g, \Del x)) \\
          &= \sh( S_a^b (f, \Del x))+ \sh(S_a^b (g, \Del x) ) \\
          &=\int_a^b f(x) dx + \int_a^b g(x) dx.
        \end{align*}
        Hence, $\int_a^b f(x)+g(x) dx = \int_a^b f(x) dx + \int_a^b g(x) dx$ since they both are real numbers. \\

        (c) Suppose $f(x) \leq g(x)$ for all $x \in [a,b]$. It is easy to see that $$S_a^b(f, \Del x)=\sum_{i=1}^n f(x_{i-1}) \Del x \leq \sum_{i=1}^n g(x_{i-1}) \Del x=S_a^b (g, \Del x),$$
        and so by transfer, it holds in $\hyp \R$. Let $\Del x$ be an infinitesimal. Notice that 
        \begin{align*}
          \int_a^b f(x) dx &=\sh(S_a^b(f, \Del x))  \\
          &\simeq S_a^b (f, \Del x) \\
          & \leq S_a^b (g, \Del x) \\
          &\simeq \sh(S_a^b (g, \Del x)) \\
          &=\int_a^b g(x) dx.
        \end{align*}
        Hence, $\int_a^b f(x) dx \leq \int_a^b g(x) dx$. \\

        (d) Suppose $m\leq f(x) \leq M$ on $[a,b]$. Then we must have $$m(b-a)=m \cdot \sum_{i=1}^n \Del x=\sum_{i=1}^n m \Del x \leq \sum_{i=1}^n f(x_{i-1}) \Del x \leq \sum_{i=1}^n M \Del x =M \cdot \sum_{i=1}^n \Del x=M (b-a)$$ for any $\Del x \in \R$. Therefore, the inequalitiy also holds in $\hyp \R$. In particular, letting $\Del x$ to be infinitesimal, we see that $$m(b-a) \leq \int_a^b f(x) dx \leq M(b-a).$$
    \end{proof}

    \begin{exercise}
      (Section 9.5, I) Average Function values. \\
       Let $f$ be continous on $[a,b] \subseteq \R$. Define the "sample average" function $Av$ by putting, for each $n \in \N$, $$Av(n)=\frac{f(x_0)+\cdots + f(x_{n-1})}{n},$$
       where $x_i=a+\frac{i(b-a)}{n}$. \\ 
       Prove that if $N \in \hyp \N$ is unlimited, then $$Av(N) \simeq \frac{1}{b-a} \int_a^b f(x)dx$$ (ie, the average value of $f$ on $[a,b]$ is given by the shadow of $Av(N)$).
    \end{exercise}
    \begin{proof}
      Let $n \in \N$ be arbitrary. Then we see that 
      \begin{align*}
        Av(n) &= \frac{\sum_{i=1}^n f(x_{i-1})}{n} \\
        &= \frac{\sum_{i=1}^n f(x_{i-1})}{n} \cdot \frac{\Del x}{ \Del x} \\
        &=\frac{\sum_{i=1}^n f(x_{i-1}) \Del x}{n \cdot \Del x} \\
        &= \frac{\sum_{i=1}^n f(x_{i-1}) \Del x}{ \sum_{i=1}^n \Del x} \\
        &= \frac{\sum_{i=1}^n f(x_{i-1}) \Del x}{ \sum_{i=1}^n \Del x_i - \Del x_i} \\
        &=\frac{\sum_{i=1}^n f(x_{i-1}) \Del x}{b-a} \\
        &=\frac{1}{b-a} \cdot \sum_{i=1}^n f(x_{i-1}) \Del x \\
        &=\frac{1}{b-a} \cdot S_a^b (f, n).
      \end{align*}
      Thus, by transfer, it follows that for any $n \in \hyp \N$, we must have $Av(N)=\frac{1}{b-a} \cdot S_a^b (f, n)$. In particular, if $N$ is any unlimited hypernatural
      \begin{align*}
        Av(N) &=\frac{1}{b-a} \cdot S_a^b (f,N) \\
        &\simeq \sh \left( \frac{1}{b-a} \cdot S_a^b (f,N) \right) \\
        &= \sh \left( \frac{1}{b-a} \right) \cdot \sh( S_a^b (f,N)) \\
        &=\frac{1}{b-a} \cdot \int_a^b f(x) dx.
      \end{align*}
      This proves the desired conclusion.
    \end{proof}

\chapter{Topology of the Reals} 

    \begin{exercise}
      (Section 10.2, I)
      Prove that the collection of topologically closed sets is closed under finite union and arbitrary intersections.
    \end{exercise}
    \begin{proof}
      First we will demonstrate that it is closed under finite union. Let $A_1, \cdots, A_n$ be closed. We wish to show that $\bigcup_{i=1}^n A_i$ is closed. Consider some $x \in \R$ such that $x \simeq r \in \hyp \left(\bigcup_{i=1}^n A_i \right)$. Assume $x \notin \bigcup_{i=1}^n A_i$. This would mean $x \in \left( \bigcup_{i=1}^n A_i \right)^c=\bigcap_{i=1}^n A_i^c$. So $r \in \hyp\left( \bigcup_{i=1}^n A_i \right)^c$ because all of $A_i^c$'s are open and $x \simeq r$. A contradiction. So we must have $x \in  \bigcup_{i=1}^n A_i$. Thus proving $\bigcup_{i=1}^n A_i$ is closed. \\
      Now let $\{A_i: i \in I\}$ be some collection of closed sets. Consider some $x \simeq r \in \hyp \left(\bigcap_{i \in I} A_i \right)$ and suppose $x \notin \bigcap_{i \in I} A_i$. Thus, $x \in \left(\bigcap_{i \in I} A_i \right)^c=\bigcup_{i \in I} A_i^c$. Since it is open being arbitrary union of open sets, we have $r \in \hyp\left(\bigcap_{i \in I} A_i\right)^c$ which is a contradiction. Therefore, $x \in \bigcap_{i \in I} A_i$
    \end{proof}

    \begin{exercise}
      (Section 10.2, II) 
      Show that the proof of 10.2.1 (2) does not work for infinite intersection by showing that $$\hyp \left( \bigcap_{n \in \N} \left(-\frac{1}{n}, \frac{1}{n}\right) \right) \not = \bigcap_{n \in \N} \hyp \left( - \frac{1}{n}, \frac{1}{n} \right).$$
    \end{exercise}
    \begin{proof}
      Intutively, for any $n \in \N$, it can be easily seen that $\hyp \left(- \frac{1}{n}, \frac{1}{n}\right)$ contains infintisimal numbers. So we must have $\bigcap_{n \in \N} \hyp \left(- \frac{1}{n}, \frac{1}{n}\right)$ to be equal to set of infinitesimal. However, the only infinitesimal which is a real number is $0$, so $\bigcap_{n \in N} \left(-\frac{1}{n}, \frac{1}{n}\right)$ must be $\{0\}$ which is enough to prove the desired result. We will now formalise our intutive arguments first by proving $\hyp \left( \bigcap_{n \in N} \left(-\frac{1}{n}, \frac{1}{n}\right) \right)=\{0\}$ and then proving $\bigcap_{n \in \N} \hyp \left( - \frac{1}{n}, \frac{1}{n} \right)=\mathbb{I}$ where $\I$ is set of infinitesimal (or in other words, $\I=\hal(0)$). \\

      \begin{theorem1}
        $\hyp \left( \bigcap_{n \in \N} \left(-\frac{1}{n}, \frac{1}{n}\right) \right)=\{0\}$ 
      \end{theorem1}
      We will prove this claim by arguing that $\bigcap_{n \in \N} \left(- \frac{1}{n}, \frac{1}{n} \right)=\{0\}$ and since extension of finite set equals to the set, the result would follow. It is easy to see $0 \in \bigcap_{n \in \N} \left(- \frac{1}{n}, \frac{1}{n} \right)$. To prove it must only be $0$, let $r$ be some non-zero real number such that $r \in \bigcap_{n \in \N} \left(- \frac{1}{n}, \frac{1}{n} \right)$. That means the inequalitiy $-1/n<r<1/n$ hold for any natural $n$. Furthermore, without loss of generality, assume $r$ is positive. By archimedean property, we know there is some $n \in \N$ so that $1/r<n$. This implies that $r>1/n$. A contradiction. We can derive similar contradiction in case $r$ is negative real number. Thus, $\bigcap_{n \in \N} \left(- \frac{1}{n}, \frac{1}{n} \right)=\{0\}$. Therefore, $\hyp \left( \bigcap_{n \in N} \left(-\frac{1}{n}, \frac{1}{n}\right) \right)=\bigcap_{n \in \N} \left(- \frac{1}{n}, \frac{1}{n} \right)=\{0\}$ because $\bigcap_{n \in \N} \left(- \frac{1}{n}, \frac{1}{n} \right)$ is finite. 

      \begin{theorem2}
        $\bigcap_{n \in \N} \hyp \left( -\frac{1}{n}, \frac{1}{n} \right) = \I$, where $I$ is the set of infinitesimals.
      \end{theorem2}
      We are going to prove this theorem by standard inclusion arguement. Let $x \in \bigcap_{n \in \N} \hyp \left( -\frac{1}{n}, \frac{1}{n} \right)$. This means that for any $n \in \N$, we have $x$ to be in $\hyp \left( -\frac{1}{n}, \frac{1}{n} \right)$, that is $x \in \hyp \R$ and $-1/n<x<1/n$. We wish to show that $x \simeq 0$. Suppose not. Then it follows that $-1/n <\sh(x) \simeq x<1/n$ for all $n \in \N$. This contradicts Theorem-1. Hence, $x$ must be infinitesimal i.e. $x \in \I$. Conversely, Let $x \in \I$. Then it is readily seen that $-1/n<x<1/n$ for any $n \in \N$ because $-1/n$ and $1/n$ are real numbers. So $x \in \hyp \left( -\frac{1}{n}, \frac{1}{n} \right)$ for each natural $n$. This is sufficient to conclude theorem-2. \\

      Finally, theorem-1 and theorem-2 together implies $\hyp \left( \bigcap_{n \in \N} \left(-\frac{1}{n}, \frac{1}{n}\right) \right) \not = \bigcap_{n \in \N} \hyp \left( - \frac{1}{n}, \frac{1}{n} \right)$. As desired.
    \end{proof}

    \begin{exercise}
      (Section 10.3, I)
      Prove that in $\R$ a closed subset of a compact set is compact.
    \end{exercise}
    \begin{proof}
      Let $A$ be some real compact set. Consider some closed subset, $B$, of $A$. It is easy to see that $B$ is bounded because we know $A$ is from heine-borel. Therefore, applying heine borel again, we see that $B$ must be compact.
    \end{proof}

    \begin{exercise}
      (Section 10.5, I)
      Show that: \\
      (a) any $S$-open set is real open. \\
      (b) each $S$-open set is union of halos, but a union of halos is not necessarily $S$-open. \\
      (c) no real radius neighbourhood can be $S$-open.
    \end{exercise}
    \begin{proof} $ $ \\
      Consider some $S$-interval $((r-\ep,r+\ep))$. Let $s \in ((r-\ep, r+\ep))$ and define $d=\frac{\sh \min \{|(r-\ep)-s|, |(r+\ep)-s|\}}{2} $. It is easy to see that the interval $(s-d, s+d)$ does not contain any point infinitely close $r-\ep$ and $r+\ep$ because $|r-\ep-s|, |r+\ep-s|>d$. Therefore, $S=\bigcup_{s \in S} (s-d, s+d)$ proving $S$-interval is $R$-open, and consequently $S$-open set is $R$-open. \\

      (b) The former part follows from definition. For latter, consider $\hal(2) \cup \hal(3)$. It is easy to see $\hal(2) \cup \hal(3)$ can not be written as union of $S-$ open sets because only way to do that would be to show $\hal(2)$ and $\hal(3)$ are both $S$-open. This is clearly not the case because any subinterval of $\hal(2)$ and $\hal(3)$ contains point infinitely close to end points. \\

      (c) Consider some real radius neighbourhood $(a,b)$. To write it as union of $S$-open set, we would require $\hal(a)$ to be subset of one of the intervals. However, this is not possible because $a \in hal(a)$ but $a \notin (a,b)$.
    \end{proof}

    \begin{exercise}
      (Section 10.5, II)
      Let $A$ be an open subset of $\R$. \\
      (a) Show that $\hyp A$ is the interval-open in $\hyp \R$. \\
      (b) Suppose $A$ is the union of a sequence $\la A_n: n \in \N \ra$ of pairwsie disjoint open intervals in $\R$, with the length of $A_n$ being less than $1/n$. Use transfer to show that some elements of $\hyp A$ is infinitely close to something not in $\hyp A$. Deduce that $\hyp A$ is not S-open. \\
      (c) Show further that $\hyp A$ contains a point that does not belong to any real-radius neighbourhood that is included in $\hyp A$. Hence, deduce the stronger result that $\hyp A$ is non real-open.
    \end{exercise}
    \begin{proof} $ $ \\

      (a) Consider some open set $A=\bigcup_{i \in I} (a_i,b_i)$ of $\R$. Extending it we see $A^*=\hyp \left( \bigcup_{i \in I} (a_i, b_i) \right)=\bigcup_{i \in  \hyp I} \hyp (a_i, b_i)$ which is union of intervals in $\hyp \R$ i.e. interval open. \\

      (b) Let $A_n=(a_n, b_n)$ denote a term in the sequence, where $n \in \mathbb{N}$. Consider $x=\frac{bn+an}{2} \in A_n$. Clearly, $|x-b_n|=\left|\frac{b_n-a_n}{2} \right|<\frac{1}{2n}$. By transfer, this inequalitiy $\hyp \R$ as well. That is for any $A_n=(a_n, b_n)$, where $n \in \hyp \N$, there exists $x \in A_n$ such that $|x-b_n|<\frac{1}{2n}$. In particular, if $N$ is unlimited natural, there is some $x \in A_N$ such that $|x-b_N|<\frac{1}{2n}$. That is $x \simeq b_N$, however, by definition $b_N \notin A_N=(a_N, b_N)$. Furthermore, $b_n$ can not be in any other term of the sequence either because otherwise it would contradict the hypothesis that all terms are pairwsie disjoint open intervals. Consequently, $\hyp A$ is not $S$-open because there are elements $x \in \hyp A$ such that $\hal(x) \not \subseteq \hyp A$.

      (c) Let $A_n=(a_n, b_n)$ denote a term of the sequence, where $n$ is an unlimited natural. Consider $x=\frac{b_n-a_n}{2}$. Clearly $x \in A_n \subseteq \hyp A$ but it is not contained in any real neighbourhood $y$ of $\hyp A$. For if it is the neighbourhood would also contain $\hal(x)$, in particular $b_n$ which is a contradiction.
    \end{proof}

  

\end{document}

